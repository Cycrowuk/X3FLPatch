<?xml version="1.0" standalone="yes" ?>
<?xml-stylesheet href="x2script.xsl" type="text/xsl" ?>
<script>
<name>plugin.patch.menu.secmusic</name>
<version>1</version>
<engineversion>61</engineversion>
<description>Patch: Menu for changing sector music</description>
<arguments>
<argument index="1" name="a.obj" type="Value" desc="Object" />
<argument index="2" name="a.event" type="Var/String" desc="Event" />
<argument index="3" name="a.data" type="Value" desc="Data" />
</arguments>
<sourceplaintext>
<![CDATA[
  $page.id = get global variable: name='pageid.patch'
  
  if $a.event == [MEvent.IsHidden]
    if not $a.obj -> is of class Trading Dock
      if not $a.obj -> is of type Xenon Hub
        if not $a.obj -> is of class Headquarters
          return [TRUE]
        end
      end
    end
    $obj.sector = $a.obj -> get sector
    $sec.owner = $obj.sector -> get owner race
    skip if $sec.owner == Player
      return [TRUE]
    return [FALSE]
    
  else if $a.event == [MEvent.Start]
    $obj.sector = $a.obj -> get sector
    $music.orig = $obj.sector -> get local variable: name='music.orig'
    if not $music.orig
      if not $obj.sector ->is sector music fixed
        $obj.sector ->set local variable: name='music.orig' value=-1
      else
        $current.music = $obj.sector ->get sector music track
        if not $current.music
          $obj.sector ->set local variable: name='music.orig' value=-2
        else
          $obj.sector ->set local variable: name='music.orig' value=$current.music
        end
      end
    end
    gosub sub.BuildMenu
    return $input
    
  else if $a.event == [MEvent.Search]
    $menu.id = $a.data[0]
    $selection = $a.data[1]
    if $menu.id == 'menu.sec.music'
      set global variable: name='menu.search' value=$selection
      gosub sub.BuildMenu
      return $menu
    end
    
  else if $a.event == 'menu.sec.music'
    $obj.sector = $a.obj -> get sector
    if $a.data == 'random'
      $obj.sector ->set sector music fixed: [FALSE]
    else if $a.data == 'original'
      $music.orig = $obj.sector -> get local variable: name='music.orig'
      if $music.orig == -1
        $obj.sector ->set sector music fixed: [FALSE]
      else if $music.orig == -2
        $obj.sector ->set sector music fixed: [TRUE]
        $obj.sector ->set sector music track: 0
      else
        $obj.sector ->set sector music track: $music.orig
        $obj.sector ->set sector music fixed: [TRUE]
      end
    else
      $obj.sector ->set sector music track: $a.data
      $obj.sector ->set sector music fixed: [TRUE]
    end
    gosub sub.ChangeMusic
    return [TRUE]
    
  else if $a.event == [MEvent.Arguments]
    START speak text: page=[Page.MiscVoice] id=131 priority=10
    
  else if $a.event == [MEvent.Finished]
    set global variable: name='menu.search' value=null
  end
  return null
  
  
  sub.BuildMenu:
  $obj.sector = $a.obj -> get sector
  $search.str = get global variable: name='menu.search'
  $menu = create custom menu array
  
  $read.text = read text: page=$page.id id=12
  add custom menu item to array $menu: text=$read.text returnvalue='random'
  $read.text = read text: page=$page.id id=13
  add custom menu item to array $menu: text=$read.text returnvalue='original'
  add section to custom menu: $menu
  
  $aMusic = get all sector music id's
  if $aMusic
    $tMusic = table alloc
    $i = size of array $aMusic
    while $i
      dec $i = 
      $music.id = $aMusic[$i]
      $music.name = get sector music name: id=$music.id
      if $search.str
        skip if case insensitive string match, is $search.str in $music.name
          continue
      end
      $tMusic[$music.id] = $music.name
    end
    $sorted.array = sort table keys by value: table=$tMusic
    $i = 0
    $size = size of array $sorted.array
    while $i < $size
      $music.id = $sorted.array[$i]
      $music.name = get sector music name: id=$music.id
      add custom menu item to array $menu: text=$music.name returnvalue=$music.id
      inc $i = 
    end
  end
  
  $music.id = $obj.sector -> get local variable: name='music.orig'
  gosub sub.GetMusicName
  $read.text = read text: page=$page.id id=14
  $text = create text for custom menu, left=$read.text, right=$text
  add custom menu info line to array $menu: text=$text
  if not $obj.sector ->is sector music fixed
    $text = read text: page=$page.id id=12
  else
    $music.id = $obj.sector ->get sector music track
    gosub sub.GetMusicName
  end
  $read.text = read text: page=$page.id id=15
  $text = create text for custom menu, left=$read.text, right=$text
  add custom menu info line to array $menu: text=$text
  
  set menu option: $menu, icon=57
  set menu option: $menu, allow searching=[TRUE]
  
  $read.text = read text: page=$page.id id=11
  $obj.sector = $a.obj -> get sector
  $input = create input: id='menu.sec.music' menu=$menu title=$read.text description=$obj.sector callback=null
  endsub
  
  
  sub.GetMusicName:
  if $music.id == -1
    $text = read text: page=$page.id id=12
  else if $music.id == -2
    $text = read text: page=$page.id id=16
  else
    $text = get sector music name: id=$music.id
    if not $text
      $text = sprintf: pageid=$page.id textid=17, $music.id, null, null, null, null
    end
  end
  endsub
  
  
  sub.ChangeMusic:
  if $a.obj -> is in active sector
    $obj.sector = $a.obj -> get sector
    if $obj.sector ->is sector music fixed
      if not is player alerted
        $current.music = $obj.sector ->get sector music track
        change current music track: $current.music
      end
    end
  end
  endsub
  
  return null
]]>
</sourceplaintext>
<sourcetext>
<line indent=""><var>$page.id&#160;=&#160;</var><text>get&#160;global&#160;variable:&#160;name=</text><var>'pageid.patch'</var></line>
<line indent=""></line>
<line indent=""><var>if&#160;</var><var>$a.event</var><text>&#160;</text><var>==</var><text>&#160;</text><var>[MEvent.IsHidden]</var></line>
<line indent="&#160;"><var>if&#160;not&#160;</var><var>$a.obj&#160;-&gt;</var><text>&#160;is&#160;of&#160;class&#160;</text><var>Trading&#160;Dock</var></line>
<line indent="&#160;&#160;"><var>if&#160;not&#160;</var><var>$a.obj&#160;-&gt;</var><text>&#160;is&#160;of&#160;type&#160;</text><var>Xenon&#160;Hub</var></line>
<line indent="&#160;&#160;&#160;"><var>if&#160;not&#160;</var><var>$a.obj&#160;-&gt;</var><text>&#160;is&#160;of&#160;class&#160;</text><var>Headquarters</var></line>
<line indent="&#160;&#160;&#160;&#160;"><text>return&#160;</text><var>[TRUE]</var></line>
<line indent="&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;"><text>end</text></line>
<line indent="&#160;"><var>$obj.sector&#160;=&#160;</var><var>$a.obj&#160;-&gt;</var><text>&#160;get&#160;sector</text></line>
<line indent="&#160;"><var>$sec.owner&#160;=&#160;</var><var>$obj.sector&#160;-&gt;</var><text>&#160;get&#160;owner&#160;race</text></line>
<line indent="&#160;"><var>skip&#160;if&#160;</var><var>$sec.owner</var><text>&#160;</text><var>==</var><text>&#160;</text><var>Player</var></line>
<line indent="&#160;&#160;"><text>return&#160;</text><var>[TRUE]</var></line>
<line indent="&#160;"><text>return&#160;</text><var>[FALSE]</var></line>
<line indent="&#160;"></line>
<line indent=""><var>else&#160;if&#160;</var><var>$a.event</var><text>&#160;</text><var>==</var><text>&#160;</text><var>[MEvent.Start]</var></line>
<line indent="&#160;"><var>$obj.sector&#160;=&#160;</var><var>$a.obj&#160;-&gt;</var><text>&#160;get&#160;sector</text></line>
<line indent="&#160;"><var>$music.orig&#160;=&#160;</var><var>$obj.sector&#160;-&gt;</var><text>&#160;get&#160;local&#160;variable:&#160;name=</text><var>'music.orig'</var></line>
<line indent="&#160;"><var>if&#160;not&#160;</var><var>$music.orig</var></line>
<line indent="&#160;&#160;"><var>if&#160;not&#160;</var><var>$obj.sector&#160;-&gt;</var><text>is&#160;sector&#160;music&#160;fixed</text></line>
<line indent="&#160;&#160;&#160;"><var>$obj.sector&#160;-&gt;</var><text>set&#160;local&#160;variable:&#160;name=</text><var>'music.orig'</var><text>&#160;value=</text><var>-1</var></line>
<line indent="&#160;&#160;"><text>else</text></line>
<line indent="&#160;&#160;&#160;"><var>$current.music&#160;=&#160;</var><var>$obj.sector&#160;-&gt;</var><text>get&#160;sector&#160;music&#160;track</text></line>
<line indent="&#160;&#160;&#160;"><var>if&#160;not&#160;</var><var>$current.music</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$obj.sector&#160;-&gt;</var><text>set&#160;local&#160;variable:&#160;name=</text><var>'music.orig'</var><text>&#160;value=</text><var>-2</var></line>
<line indent="&#160;&#160;&#160;"><text>else</text></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$obj.sector&#160;-&gt;</var><text>set&#160;local&#160;variable:&#160;name=</text><var>'music.orig'</var><text>&#160;value=</text><var>$current.music</var></line>
<line indent="&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;"><text>end</text></line>
<line indent="&#160;"><text>gosub&#160;</text><var>sub.BuildMenu</var></line>
<line indent="&#160;"><text>return&#160;</text><var>$input</var></line>
<line indent="&#160;"></line>
<line indent=""><var>else&#160;if&#160;</var><var>$a.event</var><text>&#160;</text><var>==</var><text>&#160;</text><var>[MEvent.Search]</var></line>
<line indent="&#160;"><var>$menu.id&#160;=&#160;</var><var>$a.data</var><text>[</text><var>0</var><text>]</text></line>
<line indent="&#160;"><var>$selection&#160;=&#160;</var><var>$a.data</var><text>[</text><var>1</var><text>]</text></line>
<line indent="&#160;"><var>if&#160;</var><var>$menu.id</var><text>&#160;</text><var>==</var><text>&#160;</text><var>'menu.sec.music'</var></line>
<line indent="&#160;&#160;"><text>set&#160;global&#160;variable:&#160;name=</text><var>'menu.search'</var><text>&#160;value=</text><var>$selection</var></line>
<line indent="&#160;&#160;"><text>gosub&#160;</text><var>sub.BuildMenu</var></line>
<line indent="&#160;&#160;"><text>return&#160;</text><var>$menu</var></line>
<line indent="&#160;"><text>end</text></line>
<line indent="&#160;"></line>
<line indent=""><var>else&#160;if&#160;</var><var>$a.event</var><text>&#160;</text><var>==</var><text>&#160;</text><var>'menu.sec.music'</var></line>
<line indent="&#160;"><var>$obj.sector&#160;=&#160;</var><var>$a.obj&#160;-&gt;</var><text>&#160;get&#160;sector</text></line>
<line indent="&#160;"><var>if&#160;</var><var>$a.data</var><text>&#160;</text><var>==</var><text>&#160;</text><var>'random'</var></line>
<line indent="&#160;&#160;"><var>$obj.sector&#160;-&gt;</var><text>set&#160;sector&#160;music&#160;fixed:&#160;</text><var>[FALSE]</var></line>
<line indent="&#160;"><var>else&#160;if&#160;</var><var>$a.data</var><text>&#160;</text><var>==</var><text>&#160;</text><var>'original'</var></line>
<line indent="&#160;&#160;"><var>$music.orig&#160;=&#160;</var><var>$obj.sector&#160;-&gt;</var><text>&#160;get&#160;local&#160;variable:&#160;name=</text><var>'music.orig'</var></line>
<line indent="&#160;&#160;"><var>if&#160;</var><var>$music.orig</var><text>&#160;</text><var>==</var><text>&#160;</text><var>-1</var></line>
<line indent="&#160;&#160;&#160;"><var>$obj.sector&#160;-&gt;</var><text>set&#160;sector&#160;music&#160;fixed:&#160;</text><var>[FALSE]</var></line>
<line indent="&#160;&#160;"><var>else&#160;if&#160;</var><var>$music.orig</var><text>&#160;</text><var>==</var><text>&#160;</text><var>-2</var></line>
<line indent="&#160;&#160;&#160;"><var>$obj.sector&#160;-&gt;</var><text>set&#160;sector&#160;music&#160;fixed:&#160;</text><var>[TRUE]</var></line>
<line indent="&#160;&#160;&#160;"><var>$obj.sector&#160;-&gt;</var><text>set&#160;sector&#160;music&#160;track:&#160;</text><var>0</var></line>
<line indent="&#160;&#160;"><text>else</text></line>
<line indent="&#160;&#160;&#160;"><var>$obj.sector&#160;-&gt;</var><text>set&#160;sector&#160;music&#160;track:&#160;</text><var>$music.orig</var></line>
<line indent="&#160;&#160;&#160;"><var>$obj.sector&#160;-&gt;</var><text>set&#160;sector&#160;music&#160;fixed:&#160;</text><var>[TRUE]</var></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;"><text>else</text></line>
<line indent="&#160;&#160;"><var>$obj.sector&#160;-&gt;</var><text>set&#160;sector&#160;music&#160;track:&#160;</text><var>$a.data</var></line>
<line indent="&#160;&#160;"><var>$obj.sector&#160;-&gt;</var><text>set&#160;sector&#160;music&#160;fixed:&#160;</text><var>[TRUE]</var></line>
<line indent="&#160;"><text>end</text></line>
<line indent="&#160;"><text>gosub&#160;</text><var>sub.ChangeMusic</var></line>
<line indent="&#160;"><text>return&#160;</text><var>[TRUE]</var></line>
<line indent="&#160;"></line>
<line indent=""><var>else&#160;if&#160;</var><var>$a.event</var><text>&#160;</text><var>==</var><text>&#160;</text><var>[MEvent.Arguments]</var></line>
<line indent="&#160;"><var>START&#160;</var><text>speak&#160;text:&#160;page=</text><var>[Page.MiscVoice]</var><text>&#160;id=</text><var>131</var><text>&#160;priority=</text><var>10</var></line>
<line indent="&#160;"></line>
<line indent=""><var>else&#160;if&#160;</var><var>$a.event</var><text>&#160;</text><var>==</var><text>&#160;</text><var>[MEvent.Finished]</var></line>
<line indent="&#160;"><text>set&#160;global&#160;variable:&#160;name=</text><var>'menu.search'</var><text>&#160;value=</text><var>null</var></line>
<line indent=""><text>end</text></line>
<line indent=""><text>return&#160;</text><var>null</var></line>
<line indent=""></line>
<line indent=""></line>
<line indent=""><var>sub.BuildMenu</var><text>:</text></line>
<line indent=""><var>$obj.sector&#160;=&#160;</var><var>$a.obj&#160;-&gt;</var><text>&#160;get&#160;sector</text></line>
<line indent=""><var>$search.str&#160;=&#160;</var><text>get&#160;global&#160;variable:&#160;name=</text><var>'menu.search'</var></line>
<line indent=""><var>$menu&#160;=&#160;</var><text>create&#160;custom&#160;menu&#160;array</text></line>
<line indent=""></line>
<line indent=""><var>$read.text&#160;=&#160;</var><text>read&#160;text:&#160;page=</text><var>$page.id</var><text>&#160;id=</text><var>12</var></line>
<line indent=""><text>add&#160;custom&#160;menu&#160;item&#160;to&#160;array&#160;</text><var>$menu</var><text>:&#160;text=</text><var>$read.text</var><text>&#160;returnvalue=</text><var>'random'</var></line>
<line indent=""><var>$read.text&#160;=&#160;</var><text>read&#160;text:&#160;page=</text><var>$page.id</var><text>&#160;id=</text><var>13</var></line>
<line indent=""><text>add&#160;custom&#160;menu&#160;item&#160;to&#160;array&#160;</text><var>$menu</var><text>:&#160;text=</text><var>$read.text</var><text>&#160;returnvalue=</text><var>'original'</var></line>
<line indent=""><text>add&#160;section&#160;to&#160;custom&#160;menu:&#160;</text><var>$menu</var></line>
<line indent=""></line>
<line indent=""><var>$aMusic&#160;=&#160;</var><text>get&#160;all&#160;sector&#160;music&#160;id's</text></line>
<line indent=""><var>if&#160;</var><var>$aMusic</var></line>
<line indent="&#160;"><var>$tMusic&#160;=&#160;</var><text>table&#160;alloc</text></line>
<line indent="&#160;"><var>$i&#160;=&#160;</var><text>size&#160;of&#160;array&#160;</text><var>$aMusic</var></line>
<line indent="&#160;"><var>while&#160;</var><var>$i</var></line>
<line indent="&#160;&#160;"><text>dec&#160;</text><var>$i&#160;=&#160;</var></line>
<line indent="&#160;&#160;"><var>$music.id&#160;=&#160;</var><var>$aMusic</var><text>[</text><var>$i</var><text>]</text></line>
<line indent="&#160;&#160;"><var>$music.name&#160;=&#160;</var><text>get&#160;sector&#160;music&#160;name:&#160;id=</text><var>$music.id</var></line>
<line indent="&#160;&#160;"><var>if&#160;</var><var>$search.str</var></line>
<line indent="&#160;&#160;&#160;"><var>skip&#160;if&#160;</var><text>case&#160;insensitive&#160;string&#160;match,&#160;is&#160;</text><var>$search.str</var><text>&#160;in&#160;</text><var>$music.name</var></line>
<line indent="&#160;&#160;&#160;&#160;"><text>continue</text></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;"><var>$tMusic</var><text>[</text><var>$music.id</var><text>]&#160;=&#160;</text><var>$music.name</var></line>
<line indent="&#160;"><text>end</text></line>
<line indent="&#160;"><var>$sorted.array&#160;=&#160;</var><text>sort&#160;table&#160;keys&#160;by&#160;value:&#160;table=</text><var>$tMusic</var></line>
<line indent="&#160;"><var>$i&#160;=&#160;</var><var>0</var></line>
<line indent="&#160;"><var>$size&#160;=&#160;</var><text>size&#160;of&#160;array&#160;</text><var>$sorted.array</var></line>
<line indent="&#160;"><var>while&#160;</var><var>$i</var><text>&#160;</text><var>&lt;</var><text>&#160;</text><var>$size</var></line>
<line indent="&#160;&#160;"><var>$music.id&#160;=&#160;</var><var>$sorted.array</var><text>[</text><var>$i</var><text>]</text></line>
<line indent="&#160;&#160;"><var>$music.name&#160;=&#160;</var><text>get&#160;sector&#160;music&#160;name:&#160;id=</text><var>$music.id</var></line>
<line indent="&#160;&#160;"><text>add&#160;custom&#160;menu&#160;item&#160;to&#160;array&#160;</text><var>$menu</var><text>:&#160;text=</text><var>$music.name</var><text>&#160;returnvalue=</text><var>$music.id</var></line>
<line indent="&#160;&#160;"><text>inc&#160;</text><var>$i&#160;=&#160;</var></line>
<line indent="&#160;"><text>end</text></line>
<line indent=""><text>end</text></line>
<line indent=""></line>
<line indent=""><var>$music.id&#160;=&#160;</var><var>$obj.sector&#160;-&gt;</var><text>&#160;get&#160;local&#160;variable:&#160;name=</text><var>'music.orig'</var></line>
<line indent=""><text>gosub&#160;</text><var>sub.GetMusicName</var></line>
<line indent=""><var>$read.text&#160;=&#160;</var><text>read&#160;text:&#160;page=</text><var>$page.id</var><text>&#160;id=</text><var>14</var></line>
<line indent=""><var>$text&#160;=&#160;</var><text>create&#160;text&#160;for&#160;custom&#160;menu,&#160;left=</text><var>$read.text</var><text>,&#160;right=</text><var>$text</var></line>
<line indent=""><text>add&#160;custom&#160;menu&#160;info&#160;line&#160;to&#160;array&#160;</text><var>$menu</var><text>:&#160;text=</text><var>$text</var></line>
<line indent=""><var>if&#160;not&#160;</var><var>$obj.sector&#160;-&gt;</var><text>is&#160;sector&#160;music&#160;fixed</text></line>
<line indent="&#160;"><var>$text&#160;=&#160;</var><text>read&#160;text:&#160;page=</text><var>$page.id</var><text>&#160;id=</text><var>12</var></line>
<line indent=""><text>else</text></line>
<line indent="&#160;"><var>$music.id&#160;=&#160;</var><var>$obj.sector&#160;-&gt;</var><text>get&#160;sector&#160;music&#160;track</text></line>
<line indent="&#160;"><text>gosub&#160;</text><var>sub.GetMusicName</var></line>
<line indent=""><text>end</text></line>
<line indent=""><var>$read.text&#160;=&#160;</var><text>read&#160;text:&#160;page=</text><var>$page.id</var><text>&#160;id=</text><var>15</var></line>
<line indent=""><var>$text&#160;=&#160;</var><text>create&#160;text&#160;for&#160;custom&#160;menu,&#160;left=</text><var>$read.text</var><text>,&#160;right=</text><var>$text</var></line>
<line indent=""><text>add&#160;custom&#160;menu&#160;info&#160;line&#160;to&#160;array&#160;</text><var>$menu</var><text>:&#160;text=</text><var>$text</var></line>
<line indent=""></line>
<line indent=""><text>set&#160;menu&#160;option:&#160;</text><var>$menu</var><text>,&#160;icon=</text><var>57</var></line>
<line indent=""><text>set&#160;menu&#160;option:&#160;</text><var>$menu</var><text>,&#160;allow&#160;searching=</text><var>[TRUE]</var></line>
<line indent=""></line>
<line indent=""><var>$read.text&#160;=&#160;</var><text>read&#160;text:&#160;page=</text><var>$page.id</var><text>&#160;id=</text><var>11</var></line>
<line indent=""><var>$obj.sector&#160;=&#160;</var><var>$a.obj&#160;-&gt;</var><text>&#160;get&#160;sector</text></line>
<line indent=""><var>$input&#160;=&#160;</var><text>create&#160;input:&#160;id=</text><var>'menu.sec.music'</var><text>&#160;menu=</text><var>$menu</var><text>&#160;title=</text><var>$read.text</var><text>&#160;description=</text><var>$obj.sector</var><text>&#160;callback=</text><var>null</var></line>
<line indent=""><text>endsub</text></line>
<line indent=""></line>
<line indent=""></line>
<line indent=""><var>sub.GetMusicName</var><text>:</text></line>
<line indent=""><var>if&#160;</var><var>$music.id</var><text>&#160;</text><var>==</var><text>&#160;</text><var>-1</var></line>
<line indent="&#160;"><var>$text&#160;=&#160;</var><text>read&#160;text:&#160;page=</text><var>$page.id</var><text>&#160;id=</text><var>12</var></line>
<line indent=""><var>else&#160;if&#160;</var><var>$music.id</var><text>&#160;</text><var>==</var><text>&#160;</text><var>-2</var></line>
<line indent="&#160;"><var>$text&#160;=&#160;</var><text>read&#160;text:&#160;page=</text><var>$page.id</var><text>&#160;id=</text><var>16</var></line>
<line indent=""><text>else</text></line>
<line indent="&#160;"><var>$text&#160;=&#160;</var><text>get&#160;sector&#160;music&#160;name:&#160;id=</text><var>$music.id</var></line>
<line indent="&#160;"><var>if&#160;not&#160;</var><var>$text</var></line>
<line indent="&#160;&#160;"><var>$text&#160;=&#160;</var><text>sprintf:&#160;pageid=</text><var>$page.id</var><text>&#160;textid=</text><var>17</var><text>,&#160;</text><var>$music.id</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var></line>
<line indent="&#160;"><text>end</text></line>
<line indent=""><text>end</text></line>
<line indent=""><text>endsub</text></line>
<line indent=""></line>
<line indent=""></line>
<line indent=""><var>sub.ChangeMusic</var><text>:</text></line>
<line indent=""><var>if&#160;</var><var>$a.obj&#160;-&gt;</var><text>&#160;is&#160;in&#160;active&#160;sector</text></line>
<line indent="&#160;"><var>$obj.sector&#160;=&#160;</var><var>$a.obj&#160;-&gt;</var><text>&#160;get&#160;sector</text></line>
<line indent="&#160;"><var>if&#160;</var><var>$obj.sector&#160;-&gt;</var><text>is&#160;sector&#160;music&#160;fixed</text></line>
<line indent="&#160;&#160;"><var>if&#160;not&#160;</var><text>is&#160;player&#160;alerted</text></line>
<line indent="&#160;&#160;&#160;"><var>$current.music&#160;=&#160;</var><var>$obj.sector&#160;-&gt;</var><text>get&#160;sector&#160;music&#160;track</text></line>
<line indent="&#160;&#160;&#160;"><text>change&#160;current&#160;music&#160;track:&#160;</text><var>$current.music</var></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;"><text>end</text></line>
<line indent=""><text>end</text></line>
<line indent=""><text>endsub</text></line>
<line indent=""></line>
<line indent=""><text>return&#160;</text><var>null</var></line>
</sourcetext>
<codearray>

<sval type="array" size="10">
  <sval type="string" val="plugin.patch.menu.secmusic"/>
  <sval type="int" val="61"/>
  <sval type="string" val="Patch: Menu for changing sector music"/>
  <sval type="int" val="1"/>
  <sval type="int" val="0"/>
  <sval type="array" size="22">
    <sval type="string" val="a.obj"/>
    <sval type="string" val="a.event"/>
    <sval type="string" val="a.data"/>
    <sval type="string" val="page.id"/>
    <sval type="string" val="obj.sector"/>
    <sval type="string" val="sec.owner"/>
    <sval type="string" val="music.orig"/>
    <sval type="string" val="current.music"/>
    <sval type="string" val="input"/>
    <sval type="string" val="menu.id"/>
    <sval type="string" val="selection"/>
    <sval type="string" val="menu"/>
    <sval type="string" val="search.str"/>
    <sval type="string" val="read.text"/>
    <sval type="string" val="aMusic"/>
    <sval type="string" val="tMusic"/>
    <sval type="string" val="i"/>
    <sval type="string" val="music.id"/>
    <sval type="string" val="music.name"/>
    <sval type="string" val="sorted.array"/>
    <sval type="string" val="size"/>
    <sval type="string" val="text"/>
  </sval>
  <sval type="array" size="133">
    <sval type="array" size="4">
      <sval type="int" val="158"/>
      <sval type="int" val="5"/>
      <sval type="string" val="pageid.patch"/>
      <sval type="int" val="3"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610609661"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="605"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="705"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-536869372"/>
      <sval type="int" val="12"/>
      <sval type="int" val="2074"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="710"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-536869372"/>
      <sval type="int" val="9"/>
      <sval type="int" val="327723"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="705"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-536869372"/>
      <sval type="int" val="12"/>
      <sval type="int" val="2046"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="703"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="701"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-536868345"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="5"/>
      <sval type="int" val="10"/>
      <sval type="int" val="10"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="62"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610605819"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="430"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="703"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="156"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="5"/>
      <sval type="string" val="music.orig"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-536864764"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="6"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="3138"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="-536866044"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="155"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="5"/>
      <sval type="string" val="music.orig"/>
      <sval type="int" val="4"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="24"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2762"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="7"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-536865020"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="7"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="155"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="5"/>
      <sval type="string" val="music.orig"/>
      <sval type="int" val="4"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="24"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="155"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="5"/>
      <sval type="string" val="music.orig"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="7"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="63"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="8"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="62"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610603771"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="439"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="9"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="2"/>
      <sval type="int" val="4"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="10"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="2"/>
      <sval type="int" val="4"/>
      <sval type="int" val="1"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610604029"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="9"/>
      <sval type="int" val="5"/>
      <sval type="string" val="menu.sec.music"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="157"/>
      <sval type="int" val="5"/>
      <sval type="string" val="menu.search"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="63"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="62"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610598139"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="5"/>
      <sval type="string" val="menu.sec.music"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="703"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610602493"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="2"/>
      <sval type="int" val="5"/>
      <sval type="string" val="random"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="3139"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="54"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610599419"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="2"/>
      <sval type="int" val="5"/>
      <sval type="string" val="original"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="156"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="5"/>
      <sval type="string" val="music.orig"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610601213"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="6"/>
      <sval type="int" val="4"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="3139"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="51"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610600187"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="6"/>
      <sval type="int" val="4"/>
      <sval type="int" val="-2"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="3139"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="2763"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="4"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="51"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="2763"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="3139"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="54"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="2763"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="3139"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="124"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="62"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610597371"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="429"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="8">
      <sval type="int" val="1042"/>
      <sval type="int" val="-2147483646"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1105"/>
      <sval type="int" val="4"/>
      <sval type="int" val="131"/>
      <sval type="int" val="4"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="62"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610596859"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="431"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="157"/>
      <sval type="int" val="5"/>
      <sval type="string" val="menu.search"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="101"/>
      <sval type="string" val="sub.BuildMenu"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="703"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="158"/>
      <sval type="int" val="5"/>
      <sval type="string" val="menu.search"/>
      <sval type="int" val="12"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1445"/>
      <sval type="int" val="11"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="126"/>
      <sval type="int" val="13"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
      <sval type="int" val="4"/>
      <sval type="int" val="12"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="1447"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="13"/>
      <sval type="int" val="5"/>
      <sval type="string" val="random"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="126"/>
      <sval type="int" val="13"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
      <sval type="int" val="4"/>
      <sval type="int" val="13"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="1447"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="13"/>
      <sval type="int" val="5"/>
      <sval type="string" val="original"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="1522"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="3110"/>
      <sval type="int" val="14"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610588669"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="14"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1733"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="131"/>
      <sval type="int" val="16"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="14"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610590967"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="143"/>
      <sval type="int" val="16"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="17"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="14"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="3111"/>
      <sval type="int" val="18"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610591485"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="12"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1922"/>
      <sval type="int" val="-536849657"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="12"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="18"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="76"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="130"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="18"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="76"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2166"/>
      <sval type="int" val="19"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="16"/>
      <sval type="int" val="1"/>
      <sval type="int" val="4"/>
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="131"/>
      <sval type="int" val="20"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610588663"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="20"/>
      <sval type="int" val="15"/>
      <sval type="int" val="3"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="17"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="19"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="3111"/>
      <sval type="int" val="18"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="1447"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="18"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="142"/>
      <sval type="int" val="16"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="88"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="156"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="5"/>
      <sval type="string" val="music.orig"/>
      <sval type="int" val="17"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="113"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="126"/>
      <sval type="int" val="13"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
      <sval type="int" val="4"/>
      <sval type="int" val="14"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1523"/>
      <sval type="int" val="21"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="13"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="21"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="1446"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="21"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="3138"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="-536844796"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="126"/>
      <sval type="int" val="21"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
      <sval type="int" val="4"/>
      <sval type="int" val="12"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="104"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2762"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="17"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="113"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="126"/>
      <sval type="int" val="13"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
      <sval type="int" val="4"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1523"/>
      <sval type="int" val="21"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="13"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="21"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="1446"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="21"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="1776"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
      <sval type="int" val="4"/>
      <sval type="int" val="57"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="1880"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="126"/>
      <sval type="int" val="13"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
      <sval type="int" val="4"/>
      <sval type="int" val="11"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="703"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="12">
      <sval type="int" val="1649"/>
      <sval type="int" val="8"/>
      <sval type="int" val="5"/>
      <sval type="string" val="menu.sec.music"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="13"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="101"/>
      <sval type="string" val="sub.GetMusicName"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610582781"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
      <sval type="int" val="4"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="126"/>
      <sval type="int" val="21"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
      <sval type="int" val="4"/>
      <sval type="int" val="12"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="123"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610582011"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
      <sval type="int" val="4"/>
      <sval type="int" val="-2"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="126"/>
      <sval type="int" val="21"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
      <sval type="int" val="4"/>
      <sval type="int" val="16"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="123"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="3111"/>
      <sval type="int" val="21"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-536839420"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="21"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="16">
      <sval type="int" val="150"/>
      <sval type="int" val="21"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
      <sval type="int" val="4"/>
      <sval type="int" val="17"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="101"/>
      <sval type="string" val="sub.ChangeMusic"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="761"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-1610579197"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="703"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="3138"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="-1610579197"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="3112"/>
      <sval type="int" val="-536837372"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2762"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="7"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="3072"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="7"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
  </sval>
  <sval type="array" size="3">
    <sval type="array" size="2">
      <sval type="int" val="9"/>
      <sval type="string" val="Object"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="11"/>
      <sval type="string" val="Event"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="9"/>
      <sval type="string" val="Data"/>
    </sval>
  </sval>
  <sval type="array" size="45">
    <sval type="array" size="2">
      <sval type="int" val="1"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="6"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="6"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="6"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="11"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="19"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="23"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="24"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="24"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="24"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="26"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="34"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="34"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="49"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="51"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="52"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="54"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="56"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="59"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="62"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="63"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="63"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="67"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="72"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="83"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="83"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="85"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="94"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="94"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="94"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="102"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="104"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="107"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="109"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="113"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="113"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="120"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="123"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="123"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="124"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="124"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="131"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="131"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="131"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="132"/>
      <sval type="int" val="2"/>
    </sval>
  </sval>
  <sval type="int" val="0"/>
</sval>

</codearray>
<nosignature>6563</nosignature>
</script>
