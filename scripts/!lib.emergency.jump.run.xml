<?xml version="1.0" standalone="yes" ?>
<?xml-stylesheet href="x2script.xsl" type="text/xsl" ?>
<script>
<name>!lib.emergency.jump.run</name>
<version>4</version>
<engineversion>62</engineversion>
<description>Library: Emergency Jump</description>
<arguments>
<argument index="1" name="a.force" type="Var/Boolean" desc="Force" />
<argument index="2" name="a.attacker" type="Value" desc="Attacker" />
</arguments>
<sourceplaintext>
<![CDATA[
  $ejump = [FALSE]
  
  if $a.force
    $ejump = [TRUE]
  else
    if [THIS] -> get amount of ware Navigation Command Software MK1 in cargo bay
      if [THIS] -> is emergency jump activated
        $shield = [THIS] -> get shield percent
        $threshold = [THIS] -> get emergency jump minimum shield threshold
        if $shield <= $threshold
          $ejump = [TRUE]
        end
      end
    end
  end
  
  if $ejump
    if [THIS] -> get amount of ware Jumpdrive in cargo bay
      $needed = [THIS] -> needed jump drive energy for jump to sector [SECTOR]
      $energy = [THIS] -> get amount of ware Energy Cells in cargo bay
      $jumps = $energy / $needed
      $jumps = get minimum, $jumps, 4, null, null, null
      
      $sectors = [THIS] -> find all sectors within $jumps jumps: Only known sectors=[TRUE]
      $i = 0
      $max = size of array $sectors
      while $i < $max
        $sector = $sectors[$i]
        inc $i = 
        do if $sector == [SECTOR]
          continue
        $owner = $sector -> get owner race
        $rel = [THIS] -> get relation to race $owner
        $noto = get notoriety from race $owner to race [OWNER]
        if $noto >= [Notoriety.Neutral] AND $rel != Foe
          $sector.jumps = get jumps from sector [SECTOR] to sector $sector
          skip if $sector.jumps
            continue
          
          $flags = [Find.JumpableGate] | [Find.JumpBeacons] | [Find.Known] | [Find.Multiple]
          $aGates = find gate: flags=$flags, refobj=$sector, max dist=null, refpos=null object check=[THIS]
          $gates = table alloc
          $beacons = table alloc
          $j = size of array $aGates
          while $j
            dec $j = 
            $gate = $aGates[$j]
            if [THIS] -> is gate/beacon: $gate jumpable
              if $gate -> is of class Jump Beacon
                $beacons[$gate] = 1
              else if $gate -> is of class Gate
                $queue.size = 1
                $gates[$gate] = $queue.size
              end
            end
          end
          
          $gate = null
          
          if size of table $beacons
            $gate = get random key: table=$beacons
          else if size of table $gates
            $array = sort table keys by value: table=$gates
            $gate = $array[0]
          end
          if $gate -> exists
            if [THIS] ->get should drop drones
              skip if $a.attacker -> exists
                $a.attacker = [THIS]
              $rnd = random value from 4 to 10 - 1
              $drones = [THIS] -> launch $rnd fight drones: protect me or attack target=$a.attacker
            end
            
            $current.sector = [SECTOR]
            
            if not get task ID
@             = [THIS] -> call script !move.jump :  gate or sector=$gate  followers should jump too=[TRUE]
            else if [THIS] -> is task 0 in use
              [THIS] ->interrupt with script !move.jump and prio 1000: arg1=$gate arg2=[TRUE] arg3=null arg4=null
            else
@             START [THIS] -> call script !move.jump :  gate or sector=$gate  followers should jump too=[TRUE]
            end
@           = wait 100 ms
            while [THIS] -> is script !move.jump on stack of task=0
  *= [THIS] -> defensive move: type=null, intensity=null, timeout=nullms, avoid object=null
@             = wait 2000 ms
            end
            $time = playing time
            $arr = create new array, arguments=$time, $current.sector, null, null, null
            [THIS] ->set local variable: name='ej.triggered' value=$arr
            break
          end
        end
      end
    end
  end
  return null
]]>
</sourceplaintext>
<sourcetext>
<line indent=""><var>$ejump&#160;=&#160;</var><var>[FALSE]</var></line>
<line indent=""></line>
<line indent=""><var>if&#160;</var><var>$a.force</var></line>
<line indent="&#160;"><var>$ejump&#160;=&#160;</var><var>[TRUE]</var></line>
<line indent=""><text>else</text></line>
<line indent="&#160;"><var>if&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;get&#160;amount&#160;of&#160;ware&#160;</text><var>Navigation&#160;Command&#160;Software&#160;MK1</var><text>&#160;in&#160;cargo&#160;bay</text></line>
<line indent="&#160;&#160;"><var>if&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;is&#160;emergency&#160;jump&#160;activated</text></line>
<line indent="&#160;&#160;&#160;"><var>$shield&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;get&#160;shield&#160;percent</text></line>
<line indent="&#160;&#160;&#160;"><var>$threshold&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;get&#160;emergency&#160;jump&#160;minimum&#160;shield&#160;threshold</text></line>
<line indent="&#160;&#160;&#160;"><var>if&#160;</var><var>$shield</var><text>&#160;</text><var>&lt;=</var><text>&#160;</text><var>$threshold</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$ejump&#160;=&#160;</var><var>[TRUE]</var></line>
<line indent="&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;"><text>end</text></line>
<line indent=""><text>end</text></line>
<line indent=""></line>
<line indent=""><var>if&#160;</var><var>$ejump</var></line>
<line indent="&#160;"><var>if&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;get&#160;amount&#160;of&#160;ware&#160;</text><var>Jumpdrive</var><text>&#160;in&#160;cargo&#160;bay</text></line>
<line indent="&#160;&#160;"><var>$needed&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;needed&#160;jump&#160;drive&#160;energy&#160;for&#160;jump&#160;to&#160;sector&#160;</text><var>[SECTOR]</var></line>
<line indent="&#160;&#160;"><var>$energy&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;get&#160;amount&#160;of&#160;ware&#160;</text><var>Energy&#160;Cells</var><text>&#160;in&#160;cargo&#160;bay</text></line>
<line indent="&#160;&#160;"><var>$jumps&#160;=&#160;</var><var>$energy</var><text>&#160;</text><var>/</var><text>&#160;</text><var>$needed</var></line>
<line indent="&#160;&#160;"><var>$jumps&#160;=&#160;</var><text>get&#160;minimum,&#160;</text><var>$jumps</var><text>,&#160;</text><var>4</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var></line>
<line indent="&#160;&#160;"></line>
<line indent="&#160;&#160;"><var>$sectors&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;find&#160;all&#160;sectors&#160;within&#160;</text><var>$jumps</var><text>&#160;jumps:&#160;Only&#160;known&#160;sectors=</text><var>[TRUE]</var></line>
<line indent="&#160;&#160;"><var>$i&#160;=&#160;</var><var>0</var></line>
<line indent="&#160;&#160;"><var>$max&#160;=&#160;</var><text>size&#160;of&#160;array&#160;</text><var>$sectors</var></line>
<line indent="&#160;&#160;"><var>while&#160;</var><var>$i</var><text>&#160;</text><var>&lt;</var><text>&#160;</text><var>$max</var></line>
<line indent="&#160;&#160;&#160;"><var>$sector&#160;=&#160;</var><var>$sectors</var><text>[</text><var>$i</var><text>]</text></line>
<line indent="&#160;&#160;&#160;"><text>inc&#160;</text><var>$i&#160;=&#160;</var></line>
<line indent="&#160;&#160;&#160;"><var>do&#160;if&#160;</var><var>$sector</var><text>&#160;</text><var>==</var><text>&#160;</text><var>[SECTOR]</var></line>
<line indent="&#160;&#160;&#160;&#160;"><text>continue</text></line>
<line indent="&#160;&#160;&#160;"><var>$owner&#160;=&#160;</var><var>$sector&#160;-&gt;</var><text>&#160;get&#160;owner&#160;race</text></line>
<line indent="&#160;&#160;&#160;"><var>$rel&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;get&#160;relation&#160;to&#160;race&#160;</text><var>$owner</var></line>
<line indent="&#160;&#160;&#160;"><var>$noto&#160;=&#160;</var><text>get&#160;notoriety&#160;from&#160;race&#160;</text><var>$owner</var><text>&#160;to&#160;race&#160;</text><var>[OWNER]</var></line>
<line indent="&#160;&#160;&#160;"><var>if&#160;</var><var>$noto</var><text>&#160;</text><var>&gt;=</var><text>&#160;</text><var>[Notoriety.Neutral]</var><text>&#160;</text><var>AND</var><text>&#160;</text><var>$rel</var><text>&#160;</text><var>!=</var><text>&#160;</text><var>Foe</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$sector.jumps&#160;=&#160;</var><text>get&#160;jumps&#160;from&#160;sector&#160;</text><var>[SECTOR]</var><text>&#160;to&#160;sector&#160;</text><var>$sector</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>skip&#160;if&#160;</var><var>$sector.jumps</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><text>continue</text></line>
<line indent="&#160;&#160;&#160;&#160;"></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$flags&#160;=&#160;</var><var>[Find.JumpableGate]</var><text>&#160;</text><var>|</var><text>&#160;</text><var>[Find.JumpBeacons]</var><text>&#160;</text><var>|</var><text>&#160;</text><var>[Find.Known]</var><text>&#160;</text><var>|</var><text>&#160;</text><var>[Find.Multiple]</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$aGates&#160;=&#160;</var><text>find&#160;gate:&#160;flags=</text><var>$flags</var><text>,&#160;refobj=</text><var>$sector</var><text>,&#160;max&#160;dist=</text><var>null</var><text>,&#160;refpos=</text><var>null</var><text>&#160;object&#160;check=</text><var>[THIS]</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$gates&#160;=&#160;</var><text>table&#160;alloc</text></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$beacons&#160;=&#160;</var><text>table&#160;alloc</text></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$j&#160;=&#160;</var><text>size&#160;of&#160;array&#160;</text><var>$aGates</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>while&#160;</var><var>$j</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><text>dec&#160;</text><var>$j&#160;=&#160;</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><var>$gate&#160;=&#160;</var><var>$aGates</var><text>[</text><var>$j</var><text>]</text></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><var>if&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;is&#160;gate/beacon:&#160;</text><var>$gate</var><text>&#160;jumpable</text></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;"><var>if&#160;</var><var>$gate&#160;-&gt;</var><text>&#160;is&#160;of&#160;class&#160;</text><var>Jump&#160;Beacon</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;&#160;"><var>$beacons</var><text>[</text><var>$gate</var><text>]&#160;=&#160;</text><var>1</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;"><var>else&#160;if&#160;</var><var>$gate&#160;-&gt;</var><text>&#160;is&#160;of&#160;class&#160;</text><var>Gate</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;&#160;"><var>$queue.size&#160;=&#160;</var><var>1</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;&#160;"><var>$gates</var><text>[</text><var>$gate</var><text>]&#160;=&#160;</text><var>$queue.size</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;&#160;&#160;"></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$gate&#160;=&#160;</var><var>null</var></line>
<line indent="&#160;&#160;&#160;&#160;"></line>
<line indent="&#160;&#160;&#160;&#160;"><var>if&#160;</var><text>size&#160;of&#160;table&#160;</text><var>$beacons</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><var>$gate&#160;=&#160;</var><text>get&#160;random&#160;key:&#160;table=</text><var>$beacons</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>else&#160;if&#160;</var><text>size&#160;of&#160;table&#160;</text><var>$gates</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><var>$array&#160;=&#160;</var><text>sort&#160;table&#160;keys&#160;by&#160;value:&#160;table=</text><var>$gates</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><var>$gate&#160;=&#160;</var><var>$array</var><text>[</text><var>0</var><text>]</text></line>
<line indent="&#160;&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;&#160;&#160;"><var>if&#160;</var><var>$gate&#160;-&gt;</var><text>&#160;exists</text></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><var>if&#160;</var><var>[THIS]&#160;-&gt;</var><text>get&#160;should&#160;drop&#160;drones</text></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;"><var>skip&#160;if&#160;</var><var>$a.attacker&#160;-&gt;</var><text>&#160;exists</text></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;&#160;"><var>$a.attacker&#160;=&#160;</var><var>[THIS]</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;"><var>$rnd&#160;=&#160;</var><text>random&#160;value&#160;from&#160;</text><var>4</var><text>&#160;to&#160;</text><var>10</var><text>&#160;-&#160;1</text></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;"><var>$drones&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;launch&#160;</text><var>$rnd</var><text>&#160;fight&#160;drones:&#160;protect&#160;me&#160;or&#160;attack&#160;target=</text><var>$a.attacker</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><var>$current.sector&#160;=&#160;</var><var>[SECTOR]</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><var>if&#160;not&#160;</var><text>get&#160;task&#160;ID</text></line>
<line interruptable="@" indent="&#160;&#160;&#160;&#160;&#160;&#160;"><var>=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>!move.jump</call><text>&#160;:&#160;</text><text>&#160;gate&#160;or&#160;sector=</text><var>$gate</var><text>&#160;</text><text>&#160;followers&#160;should&#160;jump&#160;too=</text><var>[TRUE]</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><var>else&#160;if&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;is&#160;task&#160;</text><var>0</var><text>&#160;in&#160;use</text></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;"><var>[THIS]&#160;-&gt;</var><text>interrupt&#160;with&#160;script&#160;</text><call>!move.jump</call><text>&#160;and&#160;prio&#160;</text><var>1000</var><text>:&#160;arg1=</text><var>$gate</var><text>&#160;arg2=</text><var>[TRUE]</var><text>&#160;arg3=</text><var>null</var><text>&#160;arg4=</text><var>null</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><text>else</text></line>
<line interruptable="@" indent="&#160;&#160;&#160;&#160;&#160;&#160;"><var>START&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>!move.jump</call><text>&#160;:&#160;</text><text>&#160;gate&#160;or&#160;sector=</text><var>$gate</var><text>&#160;</text><text>&#160;followers&#160;should&#160;jump&#160;too=</text><var>[TRUE]</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><text>end</text></line>
<line interruptable="@" indent="&#160;&#160;&#160;&#160;&#160;"><var>=&#160;</var><text>wait&#160;</text><var>100</var><text>&#160;ms</text></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><var>while&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;is&#160;script&#160;</text><call>!move.jump</call><text>&#160;on&#160;stack&#160;of&#160;task=</text><var>0</var></line>
<line indent=""><comment>*=&#160;[THIS]&#160;-&gt;<text>&#160;defensive&#160;move:&#160;type=</text>null<text>,&#160;intensity=</text>null<text>,&#160;timeout=</text>null<text>ms,&#160;avoid&#160;object=</text>null</comment></line>
<line interruptable="@" indent="&#160;&#160;&#160;&#160;&#160;&#160;"><var>=&#160;</var><text>wait&#160;</text><var>2000</var><text>&#160;ms</text></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><var>$time&#160;=&#160;</var><text>playing&#160;time</text></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><var>$arr&#160;=&#160;</var><text>create&#160;new&#160;array,&#160;arguments=</text><var>$time</var><text>,&#160;</text><var>$current.sector</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><var>[THIS]&#160;-&gt;</var><text>set&#160;local&#160;variable:&#160;name=</text><var>'ej.triggered'</var><text>&#160;value=</text><var>$arr</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><text>break</text></line>
<line indent="&#160;&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;"><text>end</text></line>
<line indent=""><text>end</text></line>
<line indent=""><text>return&#160;</text><var>null</var></line>
</sourcetext>
<codearray>

<sval type="array" size="10">
  <sval type="string" val="!lib.emergency.jump.run"/>
  <sval type="int" val="62"/>
  <sval type="string" val="Library: Emergency Jump"/>
  <sval type="int" val="4"/>
  <sval type="int" val="0"/>
  <sval type="array" size="29">
    <sval type="string" val="a.force"/>
    <sval type="string" val="a.attacker"/>
    <sval type="string" val="ejump"/>
    <sval type="string" val="shield"/>
    <sval type="string" val="threshold"/>
    <sval type="string" val="needed"/>
    <sval type="string" val="energy"/>
    <sval type="string" val="jumps"/>
    <sval type="string" val="sectors"/>
    <sval type="string" val="i"/>
    <sval type="string" val="max"/>
    <sval type="string" val="sector"/>
    <sval type="string" val="owner"/>
    <sval type="string" val="rel"/>
    <sval type="string" val="noto"/>
    <sval type="string" val="sector.jumps"/>
    <sval type="string" val="flags"/>
    <sval type="string" val="aGates"/>
    <sval type="string" val="gates"/>
    <sval type="string" val="beacons"/>
    <sval type="string" val="j"/>
    <sval type="string" val="gate"/>
    <sval type="string" val="queue.size"/>
    <sval type="string" val="array"/>
    <sval type="string" val="rnd"/>
    <sval type="string" val="drones"/>
    <sval type="string" val="current.sector"/>
    <sval type="string" val="time"/>
    <sval type="string" val="arr"/>
  </sval>
  <sval type="array" size="78">
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="2"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610611709"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="2"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="618"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1610610173"/>
      <sval type="int" val="9"/>
      <sval type="int" val="1048629"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1366"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1610610173"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="901"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="3"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1368"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610610173"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="15"/>
      <sval type="int" val="5"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="5"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="2"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610593021"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="2"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="618"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1610593021"/>
      <sval type="int" val="9"/>
      <sval type="int" val="1048611"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="567"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="5"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="618"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="6"/>
      <sval type="int" val="9"/>
      <sval type="int" val="720896"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="7"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="6"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="5"/>
      <sval type="int" val="15"/>
      <sval type="int" val="14"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="14"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="12">
      <sval type="int" val="1597"/>
      <sval type="int" val="7"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="7"/>
      <sval type="int" val="4"/>
      <sval type="int" val="4"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="8">
      <sval type="int" val="1334"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="8"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="7"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="9"/>
      <sval type="int" val="1"/>
      <sval type="int" val="4"/>
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="131"/>
      <sval type="int" val="10"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="8"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610593015"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="9"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
      <sval type="int" val="15"/>
      <sval type="int" val="3"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="11"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="8"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="142"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610606584"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="6"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="701"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
      <sval type="int" val="12"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="724"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="13"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="12"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="726"/>
      <sval type="int" val="14"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="12"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="7"/>
    </sval>
    <sval type="array" size="25">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610593277"/>
      <sval type="int" val="7"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="14"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="344"/>
      <sval type="int" val="15"/>
      <sval type="int" val="4"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="13"/>
      <sval type="int" val="14"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="15"/>
      <sval type="int" val="1"/>
      <sval type="int" val="15"/>
      <sval type="int" val="9"/>
      <sval type="int" val="7"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="4"/>
      <sval type="int" val="-2"/>
      <sval type="int" val="9"/>
      <sval type="int" val="-4"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-5"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="711"/>
      <sval type="int" val="15"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="6"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-536862969"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="25">
      <sval type="int" val="104"/>
      <sval type="int" val="16"/>
      <sval type="int" val="7"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="134"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="138"/>
      <sval type="int" val="15"/>
      <sval type="int" val="7"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="123"/>
      <sval type="int" val="15"/>
      <sval type="int" val="7"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="111"/>
      <sval type="int" val="15"/>
      <sval type="int" val="7"/>
      <sval type="int" val="7"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="7"/>
      <sval type="int" val="-2"/>
      <sval type="int" val="7"/>
      <sval type="int" val="-4"/>
      <sval type="int" val="7"/>
      <sval type="int" val="-6"/>
    </sval>
    <sval type="array" size="12">
      <sval type="int" val="1586"/>
      <sval type="int" val="17"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1733"/>
      <sval type="int" val="18"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1733"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="131"/>
      <sval type="int" val="20"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610600695"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="20"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="143"/>
      <sval type="int" val="20"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="21"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="20"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1587"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1610600957"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="21"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="705"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="21"/>
      <sval type="int" val="-1610601725"/>
      <sval type="int" val="12"/>
      <sval type="int" val="2062"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="130"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="19"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="21"/>
      <sval type="int" val="4"/>
      <sval type="int" val="1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="46"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="705"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="21"/>
      <sval type="int" val="-1610600955"/>
      <sval type="int" val="12"/>
      <sval type="int" val="2014"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="22"/>
      <sval type="int" val="1"/>
      <sval type="int" val="4"/>
      <sval type="int" val="1"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="130"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="18"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="21"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="22"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="36"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="21"/>
      <sval type="int" val="1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1734"/>
      <sval type="int" val="-1610599677"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2083"/>
      <sval type="int" val="21"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="54"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1734"/>
      <sval type="int" val="-1610598907"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="18"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2166"/>
      <sval type="int" val="23"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="18"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="21"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="23"/>
      <sval type="int" val="4"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="706"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="21"/>
      <sval type="int" val="-1610593277"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2692"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1610597373"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="706"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-536856057"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="1"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="110"/>
      <sval type="int" val="24"/>
      <sval type="int" val="4"/>
      <sval type="int" val="4"/>
      <sval type="int" val="4"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="8">
      <sval type="int" val="546"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="25"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="24"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="26"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="6"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="147"/>
      <sval type="int" val="-536854524"/>
    </sval>
    <sval type="array" size="10">
      <sval type="int" val="102"/>
      <sval type="string" val="!move.jump"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="2"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="21"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="68"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1073"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1610595579"/>
      <sval type="int" val="4"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="14">
      <sval type="int" val="159"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="string" val="!move.jump"/>
      <sval type="int" val="4"/>
      <sval type="int" val="1000"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="21"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="68"/>
    </sval>
    <sval type="array" size="10">
      <sval type="int" val="102"/>
      <sval type="string" val="!move.jump"/>
      <sval type="int" val="-2147483646"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="2"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="21"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="105"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="4"/>
      <sval type="int" val="100"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="1072"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1610594295"/>
      <sval type="string" val="!move.jump"/>
      <sval type="int" val="4"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="105"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="4"/>
      <sval type="int" val="2000"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="69"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="141"/>
      <sval type="int" val="27"/>
    </sval>
    <sval type="array" size="12">
      <sval type="int" val="1415"/>
      <sval type="int" val="28"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="27"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="26"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="155"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="5"/>
      <sval type="string" val="ej.triggered"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="28"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="77"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
  </sval>
  <sval type="array" size="2">
    <sval type="array" size="2">
      <sval type="int" val="63"/>
      <sval type="string" val="Force"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="9"/>
      <sval type="string" val="Attacker"/>
    </sval>
  </sval>
  <sval type="array" size="30">
    <sval type="array" size="2">
      <sval type="int" val="1"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="4"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="10"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="10"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="10"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="10"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="10"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="16"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="24"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="31"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="31"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="46"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="46"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="47"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="47"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="48"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="54"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="60"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="60"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="61"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="67"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="68"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="14">
      <sval type="int" val="70"/>
      <sval type="int" val="3"/>
      <sval type="int" val="565"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="72"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="76"/>
      <sval type="int" val="7"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="76"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="76"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="77"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="77"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="77"/>
      <sval type="int" val="4"/>
    </sval>
  </sval>
  <sval type="int" val="0"/>
</sval>

</codearray>
<nosignature>8013</nosignature>
</script>
