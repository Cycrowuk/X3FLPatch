<?xml version="1.0" standalone="yes" ?>
<?xml-stylesheet href="x2script.xsl" type="text/xsl" ?>
<script>
<name>plugin.patch.cmd.upgradefac</name>
<version>1</version>
<engineversion>61</engineversion>
<description>Patch, Ship Command - Upgrade Factories</description>
<arguments>
<argument index="1" name="a.target" type="Value" desc="Target" />
<argument index="2" name="a.fave" type="Var/Number" desc="Favour Buying" />
</arguments>
<sourceplaintext>
<![CDATA[
  * argument must not be null
  skip if $a.target
    return FLRET_INVALIDPARMS
  
  * Check the validity of the target argument
  if is datatype[ $a.target ] == DATATYPE_TABLE
    $table.upgrades = $a.target
  else if is datatype[ $a.target ] == DATATYPE_ARRAY
    $table.upgrades = convert array to table: $a.target, increment=[FALSE]
  else if is datatype[ $a.target ] == DATATYPE_SECTOR
    $table.upgrades = $a.target ->get player owned station table from sector
  else if $a.target -> is of class Factory
    $table.upgrades = table alloc
    $table.upgrades[$a.target] = [TRUE]
  else if $a.target -> is of class Sector
    $table.upgrades = $a.target ->get player owned station table from sector
  else
    return FLRET_INVALIDPARMS
  end
  
  * get all upgrade kits available
  $table.kits = table alloc
  $availble.stations = get all available station types from shipyards: only known=[TRUE]
  if $availble.stations
    $i = size of array $availble.stations
    while $i
      dec $i = 
      $kit = $availble.stations[$i]
      if is station type an upgrade kit: stationtype=$kit
        $scale = get station type scale factor: stationtype=$kit
        $table = $table.kits[$scale]
        if not $table
          $table = table alloc
          $table.kits[$scale] = $table
        end
        $table[$kit] = [TRUE]
      end
    end
  end
  
  * get all the factories that actually can be upgpraded
  $table.needed = table alloc
  
  $key = get next key: table=$table.upgrades key=null
  while $key
    if $key -> is of class Complex Hub
      $facs = $key ->get factories connected to complex
      $i = size of array $facs
      while $i
        dec $i = 
        $obj = $facs[$i]
        do if $obj -> is of class Factory
          gosub sub.AddNeeded
      end
    else if $key -> is of class Factory
      $obj = $key
      gosub sub.AddNeeded
    end
    $key = get next key: table=$table.upgrades key=$key
  end
  
  if not size of table $table.needed
    return FLRET_NOCOMMANDS
  end
  
  [THIS] ->set command: COMMAND_UPGRADE_FACTORY
  
  $page.id = get global variable: name='pageid.patch'
  
  while size of table $table.needed
@   = wait randomly from 20000 to 30000 ms
    
    $facs = get keys: table=$table.needed
    $i = size of array $facs
    while $i
      dec $i = 
      $factory = $facs[$i]
      $factory.sector = $factory -> get sector
      
  * check if we have any kits
      gosub sub.ApplyUpgrade
      if not $ret.failed
        remove key $factory from table $table.needed
        continue
      end
      
  * find kits to buy
      gosub sub.FindStation
      if not $target.station -> exists
        if $error.noroute
          $read.text = sprintf: pageid=$page.id textid=45, null, null, null, null, null
        else
          $read.text = sprintf: pageid=$page.id textid=44, null, null, null, null, null
        end
        [THIS] ->set command extra display override: text=$read.text
@       = wait 30000 ms
        continue
      end
      
      $text = $target.station -> get name
      $read.text = sprintf: pageid=$page.id textid=40, $text, null, null, null, null
      [THIS] ->set command display override: text=$read.text
      [THIS] ->set command extra display override: text=[NULL]
      gosub sub.MoveToBuy
      
    end
  end
  return null
  
  
  sub.AddNeeded:
  if $obj -> is of class Factory
    if $obj ->is factory ready for upgrade
      if not $obj ->is factory upgrading
        if not $obj ->is factory upgrading queued
          $scale = $obj ->get station scale factor
          $table.scale = $table.kits[$scale]
          if $table.scale
            if size of table $table.scale
              $table.needed[$obj] = $scale
            end
          end
        end
      end
    end
  end
  endsub
  
  
  sub.ApplyUpgrade:
  $ret.failed = [TRUE]
  $scale = $factory ->get station scale factor
  $table.scale = $table.kits[$scale]
  $key = get next key: table=$table.scale key=null
  $target.kit = null
  while $key
    if [THIS] -> get amount of ware $key in cargo bay
      $target.kit = $key
      break
    end
    $key = get next key: table=$table.scale key=$key
  end
  
  if $target.kit
    $read.text = sprintf: pageid=$page.id textid=42, $factory, null, null, null, null
    [THIS] ->set command extra display override: text=$read.text
    $target.sector = $factory -> get sector
    gosub sub.MoveSector
    
@   = wait 2000 ms
    $factory ->upgrade factory: instant=[FALSE]
    = [THIS] -> add -1 units of $target.kit
    $ret.failed = [FALSE]
  end
  endsub
  
  
  sub.FindStation:
  $error.noroute = [FALSE]
  $target.station = null
  $table.targets = table alloc
  $table.targets.kits = table alloc
  $scale = $factory ->get station scale factor
  $table.scale = $table.kits[$scale]
  $key = get next key: table=$table.scale key=null
  while $key
    $aStations = get all shipyards with ship/station: $key, only known=[TRUE]
    $kit.i = size of array $aStations
    while $kit.i
      dec $kit.i = 
      $kit.target = $aStations[$kit.i]
      
      skip if [THIS] -> is docking allowed at $kit.target
        continue
      skip if $kit.target -> is docking possible of [THIS]
        continue
      skip if [THIS] -> can buy ware $key at station $kit.target
        continue
      
@     = wait 10 ms
@     if not [THIS] -> call script !lib.player.checkvalidroute :  Destination Sector=$kit.target  Allow Target=[FALSE]  Command Rejected Sound=[FALSE]
        $error.noroute = [TRUE]
        continue
      end
      
      if $a.fave == 1
        $price = $kit.target -> get price of ware $key
        $table.targets[$kit.target] = $price
      else
        $kit.target.sector = $kit.target -> get sector
        $jumps = get jumps from sector $factory.sector to sector $kit.target.sector
        $table.targets[$kit.target] = $jumps
      end
      $table.targets.kits[$kit.target] = $key
    end
    $key = get next key: table=$table.scale key=$key
  end
  
  $aSorted = sort table keys by value: table=$table.targets
  $target.station = get first item in array: $aSorted
  $value = $table.targets[$target.station]
  
  $table.target.sub = table alloc
  $key = get next key: table=$table.targets key=null
  while $key
    $sub.value = $table.targets[$key]
    if $sub.value == $value
      $kit = $table.targets.kits[$key]
      if $a.fave == 1
        $key.sector = $key -> get sector
        $jumps = get jumps from sector $factory.sector to sector $key.sector
        $table.target.sub[$key] = $jumps
      else
        $price = $key -> get price of ware $kit
        $table.target.sub[$key] = $price
      end
    end
    $key = get next key: table=$table.targets key=$key
  end
  
  $aSorted = sort table keys by value: table=$table.target.sub
  $target.station = get first item in array: $aSorted
  $target.kit = $table.targets.kits[$target.station]
  endsub
  
  
  sub.MoveSector:
  [THIS] ->set destination to $target.sector
  gosub sub.CheckFuel
  
  while [SECTOR] != $target.sector
@   = wait 100 ms
@   $ret = [THIS] -> call script !move.movetosector :  sector=$target.sector
    if $ret == FLRET_NOPATH
      $read.text = sprintf: pageid=$page.id textid=43, $target.sector, null, null, null, null
@     = wait 10000 ms
    end
  end
  endsub
  
  
  sub.MoveStation:
  $ret.failed = [FALSE]
  [THIS] ->set destination to $target.station
  $text = $target.station -> get name
  $read.text = sprintf: pageid=6020 textid=2077, $text, null, null, null, null
  [THIS] ->set command extra display override: text=$read.text
  $target.sector = $target.station -> get sector
  gosub sub.CheckFuel
  
  while not [DOCKEDAT] -> exists
@   = wait 100 ms
@   $ret = [THIS] -> call script !move.movetostation :  station=$target.station
    do if $ret == FLRET_NOPATH
      break
  end
  
  if [DOCKEDAT] != $target.station
    $ret.failed = [TRUE]
  end
  endsub
  
  sub.MoveToBuy:
  gosub sub.MoveStation
  
  do if $ret.failed
    endsub
  
  $kit.scale = get station type scale factor: stationtype=$target.kit
  $buy.count = 0
  $key = get next key: table=$table.needed key=null
  while $key
    $scale = $key ->get station scale factor
    do if $scale == $kit.scale
      inc $buy.count = 
    $key = get next key: table=$table.needed key=$key
  end
  
  $player.money = get player money
  $price = [DOCKEDAT] -> get price of ware $target.kit
  $price = $price * $buy.count
  while $player.money < $price
    $read.text = read text: page=$page.id id=41
    [THIS] ->set command extra display override: text=$read.text
    
@   = wait 5000 ms
    
    $player.money = get player money
    $price = [DOCKEDAT] -> get price of ware $target.kit
    $price = $price * $buy.count
  end
  
  $read.text = sprintf: pageid=$page.id textid=42, $factory, null, null, null, null
  [THIS] ->set command extra display override: text=$read.text
  
  if not [THIS] -> can buy ware $target.kit at station [DOCKEDAT]
    $ret.failed = [TRUE]
    endsub
  end
  
  $bought = [THIS] -> buy $buy.count units of $target.kit
  skip if $bought
    $ret.failed = [TRUE]
  endsub
  
  
  sub.CheckFuel:
  if [THIS] -> get amount of ware Jumpdrive in cargo bay
    if [THIS] -> get amount of ware Navigation Command Software MK1 in cargo bay
      if [THIS] -> is autojump activated
        $jumps = get jumps from sector [SECTOR] to sector $target.sector
        $energy.needed = [THIS] ->get needed jump energy: jumps=$jumps
        $energy.got = [THIS] -> get amount of ware Energy Cells in cargo bay
        if $energy.needed > $energy.got
          $energy.needed = $energy.needed * 2
          $jumps.refuel = [THIS] -> get jumpdrive fuel resupply
          $fuel.resupply = [THIS] ->get needed jump energy: jumps=$jumps.refuel
          $fuel.min = [THIS] ->get needed jump energy: jumps=10
          $energy.buy = get minimum, $energy.needed, $fuel.resupply, $fuel.min, null, null
          $energy.buy = $energy.buy - $energy.got
@         = [THIS] -> call script !move.resupply.self :  Ware to Resupply=Energy Cells  Quantity=$energy.buy  Max Fly Range=3
        end
      end
    end
  end
  endsub
  
  return null
]]>
</sourceplaintext>
<sourcetext>
<line indent=""><comment><text>*&#160;</text><var>argument&#160;must&#160;not&#160;be&#160;null</var></comment></line>
<line indent=""><var>skip&#160;if&#160;</var><var>$a.target</var></line>
<line indent="&#160;"><text>return&#160;</text><var>FLRET_INVALIDPARMS</var></line>
<line indent=""></line>
<line indent=""><comment><text>*&#160;</text><var>Check&#160;the&#160;validity&#160;of&#160;the&#160;target&#160;argument</var></comment></line>
<line indent=""><var>if&#160;</var><text>is&#160;datatype[&#160;</text><var>$a.target</var><text>&#160;]&#160;==&#160;</text><var>DATATYPE_TABLE</var></line>
<line indent="&#160;"><var>$table.upgrades&#160;=&#160;</var><var>$a.target</var></line>
<line indent=""><var>else&#160;if&#160;</var><text>is&#160;datatype[&#160;</text><var>$a.target</var><text>&#160;]&#160;==&#160;</text><var>DATATYPE_ARRAY</var></line>
<line indent="&#160;"><var>$table.upgrades&#160;=&#160;</var><text>convert&#160;array&#160;to&#160;table:&#160;</text><var>$a.target</var><text>,&#160;increment=</text><var>[FALSE]</var></line>
<line indent=""><var>else&#160;if&#160;</var><text>is&#160;datatype[&#160;</text><var>$a.target</var><text>&#160;]&#160;==&#160;</text><var>DATATYPE_SECTOR</var></line>
<line indent="&#160;"><var>$table.upgrades&#160;=&#160;</var><var>$a.target&#160;-&gt;</var><text>get&#160;player&#160;owned&#160;station&#160;table&#160;from&#160;sector</text></line>
<line indent=""><var>else&#160;if&#160;</var><var>$a.target&#160;-&gt;</var><text>&#160;is&#160;of&#160;class&#160;</text><var>Factory</var></line>
<line indent="&#160;"><var>$table.upgrades&#160;=&#160;</var><text>table&#160;alloc</text></line>
<line indent="&#160;"><var>$table.upgrades</var><text>[</text><var>$a.target</var><text>]&#160;=&#160;</text><var>[TRUE]</var></line>
<line indent=""><var>else&#160;if&#160;</var><var>$a.target&#160;-&gt;</var><text>&#160;is&#160;of&#160;class&#160;</text><var>Sector</var></line>
<line indent="&#160;"><var>$table.upgrades&#160;=&#160;</var><var>$a.target&#160;-&gt;</var><text>get&#160;player&#160;owned&#160;station&#160;table&#160;from&#160;sector</text></line>
<line indent=""><text>else</text></line>
<line indent="&#160;"><text>return&#160;</text><var>FLRET_INVALIDPARMS</var></line>
<line indent=""><text>end</text></line>
<line indent=""></line>
<line indent=""><comment><text>*&#160;</text><var>get&#160;all&#160;upgrade&#160;kits&#160;available</var></comment></line>
<line indent=""><var>$table.kits&#160;=&#160;</var><text>table&#160;alloc</text></line>
<line indent=""><var>$availble.stations&#160;=&#160;</var><text>get&#160;all&#160;available&#160;station&#160;types&#160;from&#160;shipyards:&#160;only&#160;known=</text><var>[TRUE]</var></line>
<line indent=""><var>if&#160;</var><var>$availble.stations</var></line>
<line indent="&#160;"><var>$i&#160;=&#160;</var><text>size&#160;of&#160;array&#160;</text><var>$availble.stations</var></line>
<line indent="&#160;"><var>while&#160;</var><var>$i</var></line>
<line indent="&#160;&#160;"><text>dec&#160;</text><var>$i&#160;=&#160;</var></line>
<line indent="&#160;&#160;"><var>$kit&#160;=&#160;</var><var>$availble.stations</var><text>[</text><var>$i</var><text>]</text></line>
<line indent="&#160;&#160;"><var>if&#160;</var><text>is&#160;station&#160;type&#160;an&#160;upgrade&#160;kit:&#160;stationtype=</text><var>$kit</var></line>
<line indent="&#160;&#160;&#160;"><var>$scale&#160;=&#160;</var><text>get&#160;station&#160;type&#160;scale&#160;factor:&#160;stationtype=</text><var>$kit</var></line>
<line indent="&#160;&#160;&#160;"><var>$table&#160;=&#160;</var><var>$table.kits</var><text>[</text><var>$scale</var><text>]</text></line>
<line indent="&#160;&#160;&#160;"><var>if&#160;not&#160;</var><var>$table</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$table&#160;=&#160;</var><text>table&#160;alloc</text></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$table.kits</var><text>[</text><var>$scale</var><text>]&#160;=&#160;</text><var>$table</var></line>
<line indent="&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;&#160;"><var>$table</var><text>[</text><var>$kit</var><text>]&#160;=&#160;</text><var>[TRUE]</var></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;"><text>end</text></line>
<line indent=""><text>end</text></line>
<line indent=""></line>
<line indent=""><comment><text>*&#160;</text><var>get&#160;all&#160;the&#160;factories&#160;that&#160;actually&#160;can&#160;be&#160;upgpraded</var></comment></line>
<line indent=""><var>$table.needed&#160;=&#160;</var><text>table&#160;alloc</text></line>
<line indent=""></line>
<line indent=""><var>$key&#160;=&#160;</var><text>get&#160;next&#160;key:&#160;table=</text><var>$table.upgrades</var><text>&#160;key=</text><var>null</var></line>
<line indent=""><var>while&#160;</var><var>$key</var></line>
<line indent="&#160;"><var>if&#160;</var><var>$key&#160;-&gt;</var><text>&#160;is&#160;of&#160;class&#160;</text><var>Complex&#160;Hub</var></line>
<line indent="&#160;&#160;"><var>$facs&#160;=&#160;</var><var>$key&#160;-&gt;</var><text>get&#160;factories&#160;connected&#160;to&#160;complex</text></line>
<line indent="&#160;&#160;"><var>$i&#160;=&#160;</var><text>size&#160;of&#160;array&#160;</text><var>$facs</var></line>
<line indent="&#160;&#160;"><var>while&#160;</var><var>$i</var></line>
<line indent="&#160;&#160;&#160;"><text>dec&#160;</text><var>$i&#160;=&#160;</var></line>
<line indent="&#160;&#160;&#160;"><var>$obj&#160;=&#160;</var><var>$facs</var><text>[</text><var>$i</var><text>]</text></line>
<line indent="&#160;&#160;&#160;"><var>do&#160;if&#160;</var><var>$obj&#160;-&gt;</var><text>&#160;is&#160;of&#160;class&#160;</text><var>Factory</var></line>
<line indent="&#160;&#160;&#160;&#160;"><text>gosub&#160;</text><var>sub.AddNeeded</var></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;"><var>else&#160;if&#160;</var><var>$key&#160;-&gt;</var><text>&#160;is&#160;of&#160;class&#160;</text><var>Factory</var></line>
<line indent="&#160;&#160;"><var>$obj&#160;=&#160;</var><var>$key</var></line>
<line indent="&#160;&#160;"><text>gosub&#160;</text><var>sub.AddNeeded</var></line>
<line indent="&#160;"><text>end</text></line>
<line indent="&#160;"><var>$key&#160;=&#160;</var><text>get&#160;next&#160;key:&#160;table=</text><var>$table.upgrades</var><text>&#160;key=</text><var>$key</var></line>
<line indent=""><text>end</text></line>
<line indent=""></line>
<line indent=""><var>if&#160;not&#160;</var><text>size&#160;of&#160;table&#160;</text><var>$table.needed</var></line>
<line indent="&#160;"><text>return&#160;</text><var>FLRET_NOCOMMANDS</var></line>
<line indent=""><text>end</text></line>
<line indent=""></line>
<line indent=""><var>[THIS]&#160;-&gt;</var><text>set&#160;command:&#160;</text><var>COMMAND_UPGRADE_FACTORY</var></line>
<line indent=""></line>
<line indent=""><var>$page.id&#160;=&#160;</var><text>get&#160;global&#160;variable:&#160;name=</text><var>'pageid.patch'</var></line>
<line indent=""></line>
<line indent=""><var>while&#160;</var><text>size&#160;of&#160;table&#160;</text><var>$table.needed</var></line>
<line interruptable="@" indent="&#160;"><var>=&#160;</var><text>wait&#160;randomly&#160;from&#160;</text><var>20000</var><text>&#160;to&#160;</text><var>30000</var><text>&#160;ms</text></line>
<line indent="&#160;"></line>
<line indent="&#160;"><var>$facs&#160;=&#160;</var><text>get&#160;keys:&#160;table=</text><var>$table.needed</var></line>
<line indent="&#160;"><var>$i&#160;=&#160;</var><text>size&#160;of&#160;array&#160;</text><var>$facs</var></line>
<line indent="&#160;"><var>while&#160;</var><var>$i</var></line>
<line indent="&#160;&#160;"><text>dec&#160;</text><var>$i&#160;=&#160;</var></line>
<line indent="&#160;&#160;"><var>$factory&#160;=&#160;</var><var>$facs</var><text>[</text><var>$i</var><text>]</text></line>
<line indent="&#160;&#160;"><var>$factory.sector&#160;=&#160;</var><var>$factory&#160;-&gt;</var><text>&#160;get&#160;sector</text></line>
<line indent="&#160;&#160;"></line>
<line indent=""><comment><text>*&#160;</text><var>check&#160;if&#160;we&#160;have&#160;any&#160;kits</var></comment></line>
<line indent="&#160;&#160;"><text>gosub&#160;</text><var>sub.ApplyUpgrade</var></line>
<line indent="&#160;&#160;"><var>if&#160;not&#160;</var><var>$ret.failed</var></line>
<line indent="&#160;&#160;&#160;"><text>remove&#160;key&#160;</text><var>$factory</var><text>&#160;from&#160;table&#160;</text><var>$table.needed</var></line>
<line indent="&#160;&#160;&#160;"><text>continue</text></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;"></line>
<line indent=""><comment><text>*&#160;</text><var>find&#160;kits&#160;to&#160;buy</var></comment></line>
<line indent="&#160;&#160;"><text>gosub&#160;</text><var>sub.FindStation</var></line>
<line indent="&#160;&#160;"><var>if&#160;not&#160;</var><var>$target.station&#160;-&gt;</var><text>&#160;exists</text></line>
<line indent="&#160;&#160;&#160;"><var>if&#160;</var><var>$error.noroute</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$read.text&#160;=&#160;</var><text>sprintf:&#160;pageid=</text><var>$page.id</var><text>&#160;textid=</text><var>45</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var></line>
<line indent="&#160;&#160;&#160;"><text>else</text></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$read.text&#160;=&#160;</var><text>sprintf:&#160;pageid=</text><var>$page.id</var><text>&#160;textid=</text><var>44</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var></line>
<line indent="&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;&#160;"><var>[THIS]&#160;-&gt;</var><text>set&#160;command&#160;extra&#160;display&#160;override:&#160;text=</text><var>$read.text</var></line>
<line interruptable="@" indent="&#160;&#160;&#160;"><var>=&#160;</var><text>wait&#160;</text><var>30000</var><text>&#160;ms</text></line>
<line indent="&#160;&#160;&#160;"><text>continue</text></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;"></line>
<line indent="&#160;&#160;"><var>$text&#160;=&#160;</var><var>$target.station&#160;-&gt;</var><text>&#160;get&#160;name</text></line>
<line indent="&#160;&#160;"><var>$read.text&#160;=&#160;</var><text>sprintf:&#160;pageid=</text><var>$page.id</var><text>&#160;textid=</text><var>40</var><text>,&#160;</text><var>$text</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var></line>
<line indent="&#160;&#160;"><var>[THIS]&#160;-&gt;</var><text>set&#160;command&#160;display&#160;override:&#160;text=</text><var>$read.text</var></line>
<line indent="&#160;&#160;"><var>[THIS]&#160;-&gt;</var><text>set&#160;command&#160;extra&#160;display&#160;override:&#160;text=</text><var>[NULL]</var></line>
<line indent="&#160;&#160;"><text>gosub&#160;</text><var>sub.MoveToBuy</var></line>
<line indent="&#160;&#160;"></line>
<line indent="&#160;"><text>end</text></line>
<line indent=""><text>end</text></line>
<line indent=""><text>return&#160;</text><var>null</var></line>
<line indent=""></line>
<line indent=""></line>
<line indent=""><var>sub.AddNeeded</var><text>:</text></line>
<line indent=""><var>if&#160;</var><var>$obj&#160;-&gt;</var><text>&#160;is&#160;of&#160;class&#160;</text><var>Factory</var></line>
<line indent="&#160;"><var>if&#160;</var><var>$obj&#160;-&gt;</var><text>is&#160;factory&#160;ready&#160;for&#160;upgrade</text></line>
<line indent="&#160;&#160;"><var>if&#160;not&#160;</var><var>$obj&#160;-&gt;</var><text>is&#160;factory&#160;upgrading</text></line>
<line indent="&#160;&#160;&#160;"><var>if&#160;not&#160;</var><var>$obj&#160;-&gt;</var><text>is&#160;factory&#160;upgrading&#160;queued</text></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$scale&#160;=&#160;</var><var>$obj&#160;-&gt;</var><text>get&#160;station&#160;scale&#160;factor</text></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$table.scale&#160;=&#160;</var><var>$table.kits</var><text>[</text><var>$scale</var><text>]</text></line>
<line indent="&#160;&#160;&#160;&#160;"><var>if&#160;</var><var>$table.scale</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><var>if&#160;</var><text>size&#160;of&#160;table&#160;</text><var>$table.scale</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;"><var>$table.needed</var><text>[</text><var>$obj</var><text>]&#160;=&#160;</text><var>$scale</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;"><text>end</text></line>
<line indent=""><text>end</text></line>
<line indent=""><text>endsub</text></line>
<line indent=""></line>
<line indent=""></line>
<line indent=""><var>sub.ApplyUpgrade</var><text>:</text></line>
<line indent=""><var>$ret.failed&#160;=&#160;</var><var>[TRUE]</var></line>
<line indent=""><var>$scale&#160;=&#160;</var><var>$factory&#160;-&gt;</var><text>get&#160;station&#160;scale&#160;factor</text></line>
<line indent=""><var>$table.scale&#160;=&#160;</var><var>$table.kits</var><text>[</text><var>$scale</var><text>]</text></line>
<line indent=""><var>$key&#160;=&#160;</var><text>get&#160;next&#160;key:&#160;table=</text><var>$table.scale</var><text>&#160;key=</text><var>null</var></line>
<line indent=""><var>$target.kit&#160;=&#160;</var><var>null</var></line>
<line indent=""><var>while&#160;</var><var>$key</var></line>
<line indent="&#160;"><var>if&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;get&#160;amount&#160;of&#160;ware&#160;</text><var>$key</var><text>&#160;in&#160;cargo&#160;bay</text></line>
<line indent="&#160;&#160;"><var>$target.kit&#160;=&#160;</var><var>$key</var></line>
<line indent="&#160;&#160;"><text>break</text></line>
<line indent="&#160;"><text>end</text></line>
<line indent="&#160;"><var>$key&#160;=&#160;</var><text>get&#160;next&#160;key:&#160;table=</text><var>$table.scale</var><text>&#160;key=</text><var>$key</var></line>
<line indent=""><text>end</text></line>
<line indent=""></line>
<line indent=""><var>if&#160;</var><var>$target.kit</var></line>
<line indent="&#160;"><var>$read.text&#160;=&#160;</var><text>sprintf:&#160;pageid=</text><var>$page.id</var><text>&#160;textid=</text><var>42</var><text>,&#160;</text><var>$factory</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var></line>
<line indent="&#160;"><var>[THIS]&#160;-&gt;</var><text>set&#160;command&#160;extra&#160;display&#160;override:&#160;text=</text><var>$read.text</var></line>
<line indent="&#160;"><var>$target.sector&#160;=&#160;</var><var>$factory&#160;-&gt;</var><text>&#160;get&#160;sector</text></line>
<line indent="&#160;"><text>gosub&#160;</text><var>sub.MoveSector</var></line>
<line indent="&#160;"></line>
<line interruptable="@" indent="&#160;"><var>=&#160;</var><text>wait&#160;</text><var>2000</var><text>&#160;ms</text></line>
<line indent="&#160;"><var>$factory&#160;-&gt;</var><text>upgrade&#160;factory:&#160;instant=</text><var>[FALSE]</var></line>
<line indent="&#160;"><var>=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;add&#160;</text><var>-1</var><text>&#160;units&#160;of&#160;</text><var>$target.kit</var></line>
<line indent="&#160;"><var>$ret.failed&#160;=&#160;</var><var>[FALSE]</var></line>
<line indent=""><text>end</text></line>
<line indent=""><text>endsub</text></line>
<line indent=""></line>
<line indent=""></line>
<line indent=""><var>sub.FindStation</var><text>:</text></line>
<line indent=""><var>$error.noroute&#160;=&#160;</var><var>[FALSE]</var></line>
<line indent=""><var>$target.station&#160;=&#160;</var><var>null</var></line>
<line indent=""><var>$table.targets&#160;=&#160;</var><text>table&#160;alloc</text></line>
<line indent=""><var>$table.targets.kits&#160;=&#160;</var><text>table&#160;alloc</text></line>
<line indent=""><var>$scale&#160;=&#160;</var><var>$factory&#160;-&gt;</var><text>get&#160;station&#160;scale&#160;factor</text></line>
<line indent=""><var>$table.scale&#160;=&#160;</var><var>$table.kits</var><text>[</text><var>$scale</var><text>]</text></line>
<line indent=""><var>$key&#160;=&#160;</var><text>get&#160;next&#160;key:&#160;table=</text><var>$table.scale</var><text>&#160;key=</text><var>null</var></line>
<line indent=""><var>while&#160;</var><var>$key</var></line>
<line indent="&#160;"><var>$aStations&#160;=&#160;</var><text>get&#160;all&#160;shipyards&#160;with&#160;ship/station:&#160;</text><var>$key</var><text>,&#160;only&#160;known=</text><var>[TRUE]</var></line>
<line indent="&#160;"><var>$kit.i&#160;=&#160;</var><text>size&#160;of&#160;array&#160;</text><var>$aStations</var></line>
<line indent="&#160;"><var>while&#160;</var><var>$kit.i</var></line>
<line indent="&#160;&#160;"><text>dec&#160;</text><var>$kit.i&#160;=&#160;</var></line>
<line indent="&#160;&#160;"><var>$kit.target&#160;=&#160;</var><var>$aStations</var><text>[</text><var>$kit.i</var><text>]</text></line>
<line indent="&#160;&#160;"></line>
<line indent="&#160;&#160;"><var>skip&#160;if&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;is&#160;docking&#160;allowed&#160;at&#160;</text><var>$kit.target</var></line>
<line indent="&#160;&#160;&#160;"><text>continue</text></line>
<line indent="&#160;&#160;"><var>skip&#160;if&#160;</var><var>$kit.target&#160;-&gt;</var><text>&#160;is&#160;docking&#160;possible&#160;of&#160;</text><var>[THIS]</var></line>
<line indent="&#160;&#160;&#160;"><text>continue</text></line>
<line indent="&#160;&#160;"><var>skip&#160;if&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;can&#160;buy&#160;ware&#160;</text><var>$key</var><text>&#160;at&#160;station&#160;</text><var>$kit.target</var></line>
<line indent="&#160;&#160;&#160;"><text>continue</text></line>
<line indent="&#160;&#160;"></line>
<line interruptable="@" indent="&#160;&#160;"><var>=&#160;</var><text>wait&#160;</text><var>10</var><text>&#160;ms</text></line>
<line interruptable="@" indent="&#160;&#160;"><var>if&#160;not&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>!lib.player.checkvalidroute</call><text>&#160;:&#160;</text><text>&#160;Destination&#160;Sector=</text><var>$kit.target</var><text>&#160;</text><text>&#160;Allow&#160;Target=</text><var>[FALSE]</var><text>&#160;</text><text>&#160;Command&#160;Rejected&#160;Sound=</text><var>[FALSE]</var></line>
<line indent="&#160;&#160;&#160;"><var>$error.noroute&#160;=&#160;</var><var>[TRUE]</var></line>
<line indent="&#160;&#160;&#160;"><text>continue</text></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;"></line>
<line indent="&#160;&#160;"><var>if&#160;</var><var>$a.fave</var><text>&#160;</text><var>==</var><text>&#160;</text><var>1</var></line>
<line indent="&#160;&#160;&#160;"><var>$price&#160;=&#160;</var><var>$kit.target&#160;-&gt;</var><text>&#160;get&#160;price&#160;of&#160;ware&#160;</text><var>$key</var></line>
<line indent="&#160;&#160;&#160;"><var>$table.targets</var><text>[</text><var>$kit.target</var><text>]&#160;=&#160;</text><var>$price</var></line>
<line indent="&#160;&#160;"><text>else</text></line>
<line indent="&#160;&#160;&#160;"><var>$kit.target.sector&#160;=&#160;</var><var>$kit.target&#160;-&gt;</var><text>&#160;get&#160;sector</text></line>
<line indent="&#160;&#160;&#160;"><var>$jumps&#160;=&#160;</var><text>get&#160;jumps&#160;from&#160;sector&#160;</text><var>$factory.sector</var><text>&#160;to&#160;sector&#160;</text><var>$kit.target.sector</var></line>
<line indent="&#160;&#160;&#160;"><var>$table.targets</var><text>[</text><var>$kit.target</var><text>]&#160;=&#160;</text><var>$jumps</var></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;"><var>$table.targets.kits</var><text>[</text><var>$kit.target</var><text>]&#160;=&#160;</text><var>$key</var></line>
<line indent="&#160;"><text>end</text></line>
<line indent="&#160;"><var>$key&#160;=&#160;</var><text>get&#160;next&#160;key:&#160;table=</text><var>$table.scale</var><text>&#160;key=</text><var>$key</var></line>
<line indent=""><text>end</text></line>
<line indent=""></line>
<line indent=""><var>$aSorted&#160;=&#160;</var><text>sort&#160;table&#160;keys&#160;by&#160;value:&#160;table=</text><var>$table.targets</var></line>
<line indent=""><var>$target.station&#160;=&#160;</var><text>get&#160;first&#160;item&#160;in&#160;array:&#160;</text><var>$aSorted</var></line>
<line indent=""><var>$value&#160;=&#160;</var><var>$table.targets</var><text>[</text><var>$target.station</var><text>]</text></line>
<line indent=""></line>
<line indent=""><var>$table.target.sub&#160;=&#160;</var><text>table&#160;alloc</text></line>
<line indent=""><var>$key&#160;=&#160;</var><text>get&#160;next&#160;key:&#160;table=</text><var>$table.targets</var><text>&#160;key=</text><var>null</var></line>
<line indent=""><var>while&#160;</var><var>$key</var></line>
<line indent="&#160;"><var>$sub.value&#160;=&#160;</var><var>$table.targets</var><text>[</text><var>$key</var><text>]</text></line>
<line indent="&#160;"><var>if&#160;</var><var>$sub.value</var><text>&#160;</text><var>==</var><text>&#160;</text><var>$value</var></line>
<line indent="&#160;&#160;"><var>$kit&#160;=&#160;</var><var>$table.targets.kits</var><text>[</text><var>$key</var><text>]</text></line>
<line indent="&#160;&#160;"><var>if&#160;</var><var>$a.fave</var><text>&#160;</text><var>==</var><text>&#160;</text><var>1</var></line>
<line indent="&#160;&#160;&#160;"><var>$key.sector&#160;=&#160;</var><var>$key&#160;-&gt;</var><text>&#160;get&#160;sector</text></line>
<line indent="&#160;&#160;&#160;"><var>$jumps&#160;=&#160;</var><text>get&#160;jumps&#160;from&#160;sector&#160;</text><var>$factory.sector</var><text>&#160;to&#160;sector&#160;</text><var>$key.sector</var></line>
<line indent="&#160;&#160;&#160;"><var>$table.target.sub</var><text>[</text><var>$key</var><text>]&#160;=&#160;</text><var>$jumps</var></line>
<line indent="&#160;&#160;"><text>else</text></line>
<line indent="&#160;&#160;&#160;"><var>$price&#160;=&#160;</var><var>$key&#160;-&gt;</var><text>&#160;get&#160;price&#160;of&#160;ware&#160;</text><var>$kit</var></line>
<line indent="&#160;&#160;&#160;"><var>$table.target.sub</var><text>[</text><var>$key</var><text>]&#160;=&#160;</text><var>$price</var></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;"><text>end</text></line>
<line indent="&#160;"><var>$key&#160;=&#160;</var><text>get&#160;next&#160;key:&#160;table=</text><var>$table.targets</var><text>&#160;key=</text><var>$key</var></line>
<line indent=""><text>end</text></line>
<line indent=""></line>
<line indent=""><var>$aSorted&#160;=&#160;</var><text>sort&#160;table&#160;keys&#160;by&#160;value:&#160;table=</text><var>$table.target.sub</var></line>
<line indent=""><var>$target.station&#160;=&#160;</var><text>get&#160;first&#160;item&#160;in&#160;array:&#160;</text><var>$aSorted</var></line>
<line indent=""><var>$target.kit&#160;=&#160;</var><var>$table.targets.kits</var><text>[</text><var>$target.station</var><text>]</text></line>
<line indent=""><text>endsub</text></line>
<line indent=""></line>
<line indent=""></line>
<line indent=""><var>sub.MoveSector</var><text>:</text></line>
<line indent=""><var>[THIS]&#160;-&gt;</var><text>set&#160;destination&#160;to&#160;</text><var>$target.sector</var></line>
<line indent=""><text>gosub&#160;</text><var>sub.CheckFuel</var></line>
<line indent=""></line>
<line indent=""><var>while&#160;</var><var>[SECTOR]</var><text>&#160;</text><var>!=</var><text>&#160;</text><var>$target.sector</var></line>
<line interruptable="@" indent="&#160;"><var>=&#160;</var><text>wait&#160;</text><var>100</var><text>&#160;ms</text></line>
<line interruptable="@" indent="&#160;"><var>$ret&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>!move.movetosector</call><text>&#160;:&#160;</text><text>&#160;sector=</text><var>$target.sector</var></line>
<line indent="&#160;"><var>if&#160;</var><var>$ret</var><text>&#160;</text><var>==</var><text>&#160;</text><var>FLRET_NOPATH</var></line>
<line indent="&#160;&#160;"><var>$read.text&#160;=&#160;</var><text>sprintf:&#160;pageid=</text><var>$page.id</var><text>&#160;textid=</text><var>43</var><text>,&#160;</text><var>$target.sector</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var></line>
<line interruptable="@" indent="&#160;&#160;"><var>=&#160;</var><text>wait&#160;</text><var>10000</var><text>&#160;ms</text></line>
<line indent="&#160;"><text>end</text></line>
<line indent=""><text>end</text></line>
<line indent=""><text>endsub</text></line>
<line indent=""></line>
<line indent=""></line>
<line indent=""><var>sub.MoveStation</var><text>:</text></line>
<line indent=""><var>$ret.failed&#160;=&#160;</var><var>[FALSE]</var></line>
<line indent=""><var>[THIS]&#160;-&gt;</var><text>set&#160;destination&#160;to&#160;</text><var>$target.station</var></line>
<line indent=""><var>$text&#160;=&#160;</var><var>$target.station&#160;-&gt;</var><text>&#160;get&#160;name</text></line>
<line indent=""><var>$read.text&#160;=&#160;</var><text>sprintf:&#160;pageid=</text><var>6020</var><text>&#160;textid=</text><var>2077</var><text>,&#160;</text><var>$text</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var></line>
<line indent=""><var>[THIS]&#160;-&gt;</var><text>set&#160;command&#160;extra&#160;display&#160;override:&#160;text=</text><var>$read.text</var></line>
<line indent=""><var>$target.sector&#160;=&#160;</var><var>$target.station&#160;-&gt;</var><text>&#160;get&#160;sector</text></line>
<line indent=""><text>gosub&#160;</text><var>sub.CheckFuel</var></line>
<line indent=""></line>
<line indent=""><var>while&#160;not&#160;</var><var>[DOCKEDAT]&#160;-&gt;</var><text>&#160;exists</text></line>
<line interruptable="@" indent="&#160;"><var>=&#160;</var><text>wait&#160;</text><var>100</var><text>&#160;ms</text></line>
<line interruptable="@" indent="&#160;"><var>$ret&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>!move.movetostation</call><text>&#160;:&#160;</text><text>&#160;station=</text><var>$target.station</var></line>
<line indent="&#160;"><var>do&#160;if&#160;</var><var>$ret</var><text>&#160;</text><var>==</var><text>&#160;</text><var>FLRET_NOPATH</var></line>
<line indent="&#160;&#160;"><text>break</text></line>
<line indent=""><text>end</text></line>
<line indent=""></line>
<line indent=""><var>if&#160;</var><var>[DOCKEDAT]</var><text>&#160;</text><var>!=</var><text>&#160;</text><var>$target.station</var></line>
<line indent="&#160;"><var>$ret.failed&#160;=&#160;</var><var>[TRUE]</var></line>
<line indent=""><text>end</text></line>
<line indent=""><text>endsub</text></line>
<line indent=""></line>
<line indent=""><var>sub.MoveToBuy</var><text>:</text></line>
<line indent=""><text>gosub&#160;</text><var>sub.MoveStation</var></line>
<line indent=""></line>
<line indent=""><var>do&#160;if&#160;</var><var>$ret.failed</var></line>
<line indent="&#160;"><text>endsub</text></line>
<line indent=""></line>
<line indent=""><var>$kit.scale&#160;=&#160;</var><text>get&#160;station&#160;type&#160;scale&#160;factor:&#160;stationtype=</text><var>$target.kit</var></line>
<line indent=""><var>$buy.count&#160;=&#160;</var><var>0</var></line>
<line indent=""><var>$key&#160;=&#160;</var><text>get&#160;next&#160;key:&#160;table=</text><var>$table.needed</var><text>&#160;key=</text><var>null</var></line>
<line indent=""><var>while&#160;</var><var>$key</var></line>
<line indent="&#160;"><var>$scale&#160;=&#160;</var><var>$key&#160;-&gt;</var><text>get&#160;station&#160;scale&#160;factor</text></line>
<line indent="&#160;"><var>do&#160;if&#160;</var><var>$scale</var><text>&#160;</text><var>==</var><text>&#160;</text><var>$kit.scale</var></line>
<line indent="&#160;&#160;"><text>inc&#160;</text><var>$buy.count&#160;=&#160;</var></line>
<line indent="&#160;"><var>$key&#160;=&#160;</var><text>get&#160;next&#160;key:&#160;table=</text><var>$table.needed</var><text>&#160;key=</text><var>$key</var></line>
<line indent=""><text>end</text></line>
<line indent=""></line>
<line indent=""><var>$player.money&#160;=&#160;</var><text>get&#160;player&#160;money</text></line>
<line indent=""><var>$price&#160;=&#160;</var><var>[DOCKEDAT]&#160;-&gt;</var><text>&#160;get&#160;price&#160;of&#160;ware&#160;</text><var>$target.kit</var></line>
<line indent=""><var>$price&#160;=&#160;</var><var>$price</var><text>&#160;</text><var>*</var><text>&#160;</text><var>$buy.count</var></line>
<line indent=""><var>while&#160;</var><var>$player.money</var><text>&#160;</text><var>&lt;</var><text>&#160;</text><var>$price</var></line>
<line indent="&#160;"><var>$read.text&#160;=&#160;</var><text>read&#160;text:&#160;page=</text><var>$page.id</var><text>&#160;id=</text><var>41</var></line>
<line indent="&#160;"><var>[THIS]&#160;-&gt;</var><text>set&#160;command&#160;extra&#160;display&#160;override:&#160;text=</text><var>$read.text</var></line>
<line indent="&#160;"></line>
<line interruptable="@" indent="&#160;"><var>=&#160;</var><text>wait&#160;</text><var>5000</var><text>&#160;ms</text></line>
<line indent="&#160;"></line>
<line indent="&#160;"><var>$player.money&#160;=&#160;</var><text>get&#160;player&#160;money</text></line>
<line indent="&#160;"><var>$price&#160;=&#160;</var><var>[DOCKEDAT]&#160;-&gt;</var><text>&#160;get&#160;price&#160;of&#160;ware&#160;</text><var>$target.kit</var></line>
<line indent="&#160;"><var>$price&#160;=&#160;</var><var>$price</var><text>&#160;</text><var>*</var><text>&#160;</text><var>$buy.count</var></line>
<line indent=""><text>end</text></line>
<line indent=""></line>
<line indent=""><var>$read.text&#160;=&#160;</var><text>sprintf:&#160;pageid=</text><var>$page.id</var><text>&#160;textid=</text><var>42</var><text>,&#160;</text><var>$factory</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var></line>
<line indent=""><var>[THIS]&#160;-&gt;</var><text>set&#160;command&#160;extra&#160;display&#160;override:&#160;text=</text><var>$read.text</var></line>
<line indent=""></line>
<line indent=""><var>if&#160;not&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;can&#160;buy&#160;ware&#160;</text><var>$target.kit</var><text>&#160;at&#160;station&#160;</text><var>[DOCKEDAT]</var></line>
<line indent="&#160;"><var>$ret.failed&#160;=&#160;</var><var>[TRUE]</var></line>
<line indent="&#160;"><text>endsub</text></line>
<line indent=""><text>end</text></line>
<line indent=""></line>
<line indent=""><var>$bought&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;buy&#160;</text><var>$buy.count</var><text>&#160;units&#160;of&#160;</text><var>$target.kit</var></line>
<line indent=""><var>skip&#160;if&#160;</var><var>$bought</var></line>
<line indent="&#160;"><var>$ret.failed&#160;=&#160;</var><var>[TRUE]</var></line>
<line indent=""><text>endsub</text></line>
<line indent=""></line>
<line indent=""></line>
<line indent=""><var>sub.CheckFuel</var><text>:</text></line>
<line indent=""><var>if&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;get&#160;amount&#160;of&#160;ware&#160;</text><var>Jumpdrive</var><text>&#160;in&#160;cargo&#160;bay</text></line>
<line indent="&#160;"><var>if&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;get&#160;amount&#160;of&#160;ware&#160;</text><var>Navigation&#160;Command&#160;Software&#160;MK1</var><text>&#160;in&#160;cargo&#160;bay</text></line>
<line indent="&#160;&#160;"><var>if&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;is&#160;autojump&#160;activated</text></line>
<line indent="&#160;&#160;&#160;"><var>$jumps&#160;=&#160;</var><text>get&#160;jumps&#160;from&#160;sector&#160;</text><var>[SECTOR]</var><text>&#160;to&#160;sector&#160;</text><var>$target.sector</var></line>
<line indent="&#160;&#160;&#160;"><var>$energy.needed&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>get&#160;needed&#160;jump&#160;energy:&#160;jumps=</text><var>$jumps</var></line>
<line indent="&#160;&#160;&#160;"><var>$energy.got&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;get&#160;amount&#160;of&#160;ware&#160;</text><var>Energy&#160;Cells</var><text>&#160;in&#160;cargo&#160;bay</text></line>
<line indent="&#160;&#160;&#160;"><var>if&#160;</var><var>$energy.needed</var><text>&#160;</text><var>&gt;</var><text>&#160;</text><var>$energy.got</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$energy.needed&#160;=&#160;</var><var>$energy.needed</var><text>&#160;</text><var>*</var><text>&#160;</text><var>2</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$jumps.refuel&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;get&#160;jumpdrive&#160;fuel&#160;resupply</text></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$fuel.resupply&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>get&#160;needed&#160;jump&#160;energy:&#160;jumps=</text><var>$jumps.refuel</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$fuel.min&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>get&#160;needed&#160;jump&#160;energy:&#160;jumps=</text><var>10</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$energy.buy&#160;=&#160;</var><text>get&#160;minimum,&#160;</text><var>$energy.needed</var><text>,&#160;</text><var>$fuel.resupply</var><text>,&#160;</text><var>$fuel.min</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$energy.buy&#160;=&#160;</var><var>$energy.buy</var><text>&#160;</text><var>-</var><text>&#160;</text><var>$energy.got</var></line>
<line interruptable="@" indent="&#160;&#160;&#160;&#160;"><var>=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>!move.resupply.self</call><text>&#160;:&#160;</text><text>&#160;Ware&#160;to&#160;Resupply=</text><var>Energy&#160;Cells</var><text>&#160;</text><text>&#160;Quantity=</text><var>$energy.buy</var><text>&#160;</text><text>&#160;Max&#160;Fly&#160;Range=</text><var>3</var></line>
<line indent="&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;"><text>end</text></line>
<line indent=""><text>end</text></line>
<line indent=""><text>endsub</text></line>
<line indent=""></line>
<line indent=""><text>return&#160;</text><var>null</var></line>
</sourcetext>
<codearray>

<sval type="array" size="10">
  <sval type="string" val="plugin.patch.cmd.upgradefac"/>
  <sval type="int" val="61"/>
  <sval type="string" val="Patch, Ship Command - Upgrade Factories"/>
  <sval type="int" val="1"/>
  <sval type="int" val="0"/>
  <sval type="array" size="48">
    <sval type="string" val="a.target"/>
    <sval type="string" val="a.fave"/>
    <sval type="string" val="table.upgrades"/>
    <sval type="string" val="table.kits"/>
    <sval type="string" val="availble.stations"/>
    <sval type="string" val="i"/>
    <sval type="string" val="kit"/>
    <sval type="string" val="scale"/>
    <sval type="string" val="table"/>
    <sval type="string" val="table.needed"/>
    <sval type="string" val="key"/>
    <sval type="string" val="facs"/>
    <sval type="string" val="obj"/>
    <sval type="string" val="page.id"/>
    <sval type="string" val="factory"/>
    <sval type="string" val="factory.sector"/>
    <sval type="string" val="ret.failed"/>
    <sval type="string" val="target.station"/>
    <sval type="string" val="error.noroute"/>
    <sval type="string" val="read.text"/>
    <sval type="string" val="text"/>
    <sval type="string" val="table.scale"/>
    <sval type="string" val="target.kit"/>
    <sval type="string" val="target.sector"/>
    <sval type="string" val="table.targets"/>
    <sval type="string" val="table.targets.kits"/>
    <sval type="string" val="aStations"/>
    <sval type="string" val="kit.i"/>
    <sval type="string" val="kit.target"/>
    <sval type="string" val="price"/>
    <sval type="string" val="kit.target.sector"/>
    <sval type="string" val="jumps"/>
    <sval type="string" val="aSorted"/>
    <sval type="string" val="value"/>
    <sval type="string" val="table.target.sub"/>
    <sval type="string" val="sub.value"/>
    <sval type="string" val="key.sector"/>
    <sval type="string" val="ret"/>
    <sval type="string" val="kit.scale"/>
    <sval type="string" val="buy.count"/>
    <sval type="string" val="player.money"/>
    <sval type="string" val="bought"/>
    <sval type="string" val="energy.needed"/>
    <sval type="string" val="energy.got"/>
    <sval type="string" val="jumps.refuel"/>
    <sval type="string" val="fuel.resupply"/>
    <sval type="string" val="fuel.min"/>
    <sval type="string" val="energy.buy"/>
  </sval>
  <sval type="array" size="253">
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-536870393"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="19"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="125"/>
      <sval type="int" val="-1610611453"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="20"/>
      <sval type="int" val="29"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="2"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="125"/>
      <sval type="int" val="-1610610683"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="20"/>
      <sval type="int" val="21"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="2483"/>
      <sval type="int" val="2"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="125"/>
      <sval type="int" val="-1610609915"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="20"/>
      <sval type="int" val="65544"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2621"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="705"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-1610608891"/>
      <sval type="int" val="12"/>
      <sval type="int" val="2006"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1733"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="130"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="2"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="705"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-1610608123"/>
      <sval type="int" val="12"/>
      <sval type="int" val="2001"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2621"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="19"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1733"/>
      <sval type="int" val="3"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2181"/>
      <sval type="int" val="4"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610604029"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="131"/>
      <sval type="int" val="5"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610604023"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="5"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="143"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="6"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2152"/>
      <sval type="int" val="-1610604285"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2119"/>
      <sval type="int" val="7"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="8"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="7"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-536862716"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="8"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1733"/>
      <sval type="int" val="8"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="130"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="7"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="8"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="130"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="8"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="6"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="23"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1733"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1739"/>
      <sval type="int" val="10"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="2"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610599415"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="705"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
      <sval type="int" val="-1610600701"/>
      <sval type="int" val="12"/>
      <sval type="int" val="2044"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2198"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
      <sval type="int" val="11"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="131"/>
      <sval type="int" val="5"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610600951"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="5"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="143"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="12"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="705"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="12"/>
      <sval type="int" val="-1610601208"/>
      <sval type="int" val="12"/>
      <sval type="int" val="2006"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="85"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="40"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="50"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="705"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
      <sval type="int" val="-1610599931"/>
      <sval type="int" val="12"/>
      <sval type="int" val="2006"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="12"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="85"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1739"/>
      <sval type="int" val="10"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="2"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="36"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1734"/>
      <sval type="int" val="-536857084"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="19"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="524"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="18"/>
      <sval type="int" val="9600"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="158"/>
      <sval type="int" val="5"/>
      <sval type="string" val="pageid.patch"/>
      <sval type="int" val="13"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1734"/>
      <sval type="int" val="-1610591223"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="107"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="4"/>
      <sval type="int" val="20000"/>
      <sval type="int" val="4"/>
      <sval type="int" val="30000"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1736"/>
      <sval type="int" val="11"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="131"/>
      <sval type="int" val="5"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610591479"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="5"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="143"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="14"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="703"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="14"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="96"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-536853500"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="1735"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="9"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="14"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="60"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="118"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="706"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
      <sval type="int" val="-536851196"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610594045"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="18"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="16">
      <sval type="int" val="150"/>
      <sval type="int" val="19"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="13"/>
      <sval type="int" val="4"/>
      <sval type="int" val="45"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="74"/>
    </sval>
    <sval type="array" size="16">
      <sval type="int" val="150"/>
      <sval type="int" val="19"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="13"/>
      <sval type="int" val="4"/>
      <sval type="int" val="44"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="2184"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="105"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="4"/>
      <sval type="int" val="30000"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="60"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1028"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
      <sval type="int" val="20"/>
    </sval>
    <sval type="array" size="16">
      <sval type="int" val="150"/>
      <sval type="int" val="19"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="13"/>
      <sval type="int" val="4"/>
      <sval type="int" val="40"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="20"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="2183"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="2184"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="12"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="203"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="60"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="56"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="101"/>
      <sval type="string" val="sub.AddNeeded"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="705"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="12"/>
      <sval type="int" val="-1610588413"/>
      <sval type="int" val="12"/>
      <sval type="int" val="2006"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2066"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="12"/>
      <sval type="int" val="-1610588413"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2070"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="12"/>
      <sval type="int" val="-536846588"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2073"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="12"/>
      <sval type="int" val="-536846588"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2028"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="12"/>
      <sval type="int" val="7"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="21"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="7"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610588413"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="21"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1734"/>
      <sval type="int" val="-1610588413"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="21"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="130"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="9"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="12"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="7"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="101"/>
      <sval type="string" val="sub.ApplyUpgrade"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="16"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2028"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="14"/>
      <sval type="int" val="7"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="21"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="7"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1739"/>
      <sval type="int" val="10"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="21"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="22"/>
      <sval type="int" val="1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610585079"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="618"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1610585597"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="22"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="108"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1739"/>
      <sval type="int" val="10"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="21"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="102"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610582781"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="22"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="16">
      <sval type="int" val="150"/>
      <sval type="int" val="19"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="13"/>
      <sval type="int" val="4"/>
      <sval type="int" val="42"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="14"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="2184"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="703"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="14"/>
      <sval type="int" val="23"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="175"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="105"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="4"/>
      <sval type="int" val="2000"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="2067"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="14"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="8">
      <sval type="int" val="646"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="4"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="22"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="16"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="101"/>
      <sval type="string" val="sub.FindStation"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="18"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="17"/>
      <sval type="int" val="1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1733"/>
      <sval type="int" val="24"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1733"/>
      <sval type="int" val="25"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2028"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="14"/>
      <sval type="int" val="7"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="21"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="7"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1739"/>
      <sval type="int" val="10"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="21"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610573559"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="2324"/>
      <sval type="int" val="26"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="131"/>
      <sval type="int" val="27"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="26"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610574071"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="27"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="143"/>
      <sval type="int" val="27"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="28"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="26"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="27"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="513"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-536836601"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="28"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="129"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="746"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="28"/>
      <sval type="int" val="-536836089"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="129"/>
    </sval>
    <sval type="array" size="8">
      <sval type="int" val="1454"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-536835577"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="28"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="129"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="105"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="4"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="12">
      <sval type="int" val="102"/>
      <sval type="string" val="!lib.player.checkvalidroute"/>
      <sval type="int" val="-536834556"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="28"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="18"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="129"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610575357"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="4"/>
      <sval type="int" val="1"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="627"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="28"/>
      <sval type="int" val="29"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="130"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="24"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="28"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="29"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="149"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="703"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="28"/>
      <sval type="int" val="30"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="711"/>
      <sval type="int" val="31"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="30"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="130"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="24"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="28"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="31"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="130"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="25"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="28"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="129"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1739"/>
      <sval type="int" val="10"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="21"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="126"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2166"/>
      <sval type="int" val="32"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="24"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2656"/>
      <sval type="int" val="17"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="32"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="33"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="24"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1733"/>
      <sval type="int" val="34"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1739"/>
      <sval type="int" val="10"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="24"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610568951"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="35"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="24"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610569469"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="35"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="33"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="6"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="25"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610569981"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="4"/>
      <sval type="int" val="1"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="703"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
      <sval type="int" val="36"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="711"/>
      <sval type="int" val="31"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="36"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="130"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="34"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="31"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="169"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="627"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
      <sval type="int" val="29"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="130"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="34"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="29"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1739"/>
      <sval type="int" val="10"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="24"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="158"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2166"/>
      <sval type="int" val="32"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="34"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2656"/>
      <sval type="int" val="17"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="32"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="22"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="25"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="101"/>
      <sval type="string" val="sub.MoveSector"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="519"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="23"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="236"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610565367"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="6"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="23"/>
      <sval type="int" val="15"/>
      <sval type="int" val="1"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="105"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="4"/>
      <sval type="int" val="100"/>
    </sval>
    <sval type="array" size="8">
      <sval type="int" val="102"/>
      <sval type="string" val="!move.movetosector"/>
      <sval type="int" val="37"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="23"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610565629"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="37"/>
      <sval type="int" val="19"/>
      <sval type="int" val="13"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="16">
      <sval type="int" val="150"/>
      <sval type="int" val="19"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="13"/>
      <sval type="int" val="4"/>
      <sval type="int" val="43"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="23"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="105"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="4"/>
      <sval type="int" val="10000"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="178"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="101"/>
      <sval type="string" val="sub.MoveStation"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="16"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="519"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1028"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
      <sval type="int" val="20"/>
    </sval>
    <sval type="array" size="16">
      <sval type="int" val="150"/>
      <sval type="int" val="19"/>
      <sval type="int" val="4"/>
      <sval type="int" val="6020"/>
      <sval type="int" val="4"/>
      <sval type="int" val="2077"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="20"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="2184"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="703"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
      <sval type="int" val="23"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="236"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="706"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="11"/>
      <sval type="int" val="-536819702"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="105"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="4"/>
      <sval type="int" val="100"/>
    </sval>
    <sval type="array" size="8">
      <sval type="int" val="102"/>
      <sval type="string" val="!move.movetostation"/>
      <sval type="int" val="37"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610561784"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="37"/>
      <sval type="int" val="19"/>
      <sval type="int" val="13"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="200"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="194"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610561021"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="11"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
      <sval type="int" val="15"/>
      <sval type="int" val="1"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="16"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="101"/>
      <sval type="string" val="sub.MoveToBuy"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="186"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610559736"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2119"/>
      <sval type="int" val="38"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="22"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="39"/>
      <sval type="int" val="1"/>
      <sval type="int" val="4"/>
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1739"/>
      <sval type="int" val="10"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="9"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610557431"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2028"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
      <sval type="int" val="7"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610557944"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="7"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="38"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="142"/>
      <sval type="int" val="39"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1739"/>
      <sval type="int" val="10"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="9"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="210"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="626"/>
      <sval type="int" val="40"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="627"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="11"/>
      <sval type="int" val="29"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="22"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="29"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="29"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="39"/>
      <sval type="int" val="15"/>
      <sval type="int" val="13"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="13"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610554615"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="40"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="29"/>
      <sval type="int" val="15"/>
      <sval type="int" val="3"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="126"/>
      <sval type="int" val="19"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="13"/>
      <sval type="int" val="4"/>
      <sval type="int" val="41"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="2184"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="105"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="4"/>
      <sval type="int" val="5000"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="626"/>
      <sval type="int" val="40"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="627"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="11"/>
      <sval type="int" val="29"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="22"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="29"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="29"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="39"/>
      <sval type="int" val="15"/>
      <sval type="int" val="13"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="13"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="219"/>
    </sval>
    <sval type="array" size="16">
      <sval type="int" val="150"/>
      <sval type="int" val="19"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="13"/>
      <sval type="int" val="4"/>
      <sval type="int" val="42"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="14"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="2184"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="8">
      <sval type="int" val="1454"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-536811516"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="22"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="11"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="16"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="8">
      <sval type="int" val="601"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="41"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="39"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="22"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-536810745"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="41"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="16"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="101"/>
      <sval type="string" val="sub.CheckFuel"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="618"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1610548477"/>
      <sval type="int" val="9"/>
      <sval type="int" val="1048611"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="618"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1610548477"/>
      <sval type="int" val="9"/>
      <sval type="int" val="1048629"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1362"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1610548477"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="711"/>
      <sval type="int" val="31"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="6"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="23"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="2188"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="42"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="31"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="618"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="43"/>
      <sval type="int" val="9"/>
      <sval type="int" val="720896"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610548477"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="42"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="43"/>
      <sval type="int" val="15"/>
      <sval type="int" val="2"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="2"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="42"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="42"/>
      <sval type="int" val="4"/>
      <sval type="int" val="2"/>
      <sval type="int" val="15"/>
      <sval type="int" val="13"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="13"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1376"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="44"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="2188"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="45"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="44"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="2188"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="46"/>
      <sval type="int" val="4"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="12">
      <sval type="int" val="1597"/>
      <sval type="int" val="47"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="42"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="45"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="46"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="47"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="47"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="43"/>
      <sval type="int" val="15"/>
      <sval type="int" val="12"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="12"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="12">
      <sval type="int" val="102"/>
      <sval type="string" val="!move.resupply.self"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="3"/>
      <sval type="int" val="9"/>
      <sval type="int" val="720896"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="47"/>
      <sval type="int" val="4"/>
      <sval type="int" val="3"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
  </sval>
  <sval type="array" size="2">
    <sval type="array" size="2">
      <sval type="int" val="9"/>
      <sval type="string" val="Target"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="10"/>
      <sval type="string" val="Favour Buying"/>
    </sval>
  </sval>
  <sval type="array" size="105">
    <sval type="array" size="3">
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="string" val="argument must not be null"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="2"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="2"/>
      <sval type="int" val="1"/>
      <sval type="string" val="Check the validity of the target argument"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="18"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="19"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="19"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="19"/>
      <sval type="int" val="1"/>
      <sval type="string" val="get all upgrade kits available"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="32"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="33"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="34"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="34"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="34"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="34"/>
      <sval type="int" val="1"/>
      <sval type="string" val="get all the factories that actually can be upgpraded"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="35"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="46"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="50"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="52"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="52"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="54"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="54"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="55"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="56"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="58"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="64"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="64"/>
      <sval type="int" val="1"/>
      <sval type="string" val="check if we have any kits"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="68"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="68"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="68"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="68"/>
      <sval type="int" val="1"/>
      <sval type="string" val="find kits to buy"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="73"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="74"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="77"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="77"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="77"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="82"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="83"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="84"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="85"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="85"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="95"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="95"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="95"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="95"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="95"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="95"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="96"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="96"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="106"/>
      <sval type="int" val="7"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="106"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="108"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="108"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="113"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="117"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="118"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="118"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="132"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="134"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="136"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="138"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="138"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="142"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="142"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="142"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="146"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="149"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="151"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="153"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="153"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="156"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="167"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="169"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="169"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="171"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="171"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="175"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="175"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="178"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="184"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="185"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="186"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="186"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="194"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="199"/>
      <sval type="int" val="7"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="200"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="200"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="202"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="203"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="205"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="207"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="216"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="216"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="222"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="223"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="227"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="227"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="229"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="232"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="232"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="236"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="236"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="251"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="251"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="251"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="251"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="252"/>
      <sval type="int" val="2"/>
    </sval>
  </sval>
  <sval type="int" val="0"/>
</sval>

</codearray>
<nosignature>3169</nosignature>
</script>
