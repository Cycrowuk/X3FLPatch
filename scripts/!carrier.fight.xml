<?xml version="1.0" standalone="yes" ?>
<?xml-stylesheet href="x2script.xsl" type="text/xsl" ?>
<script>
<name>!carrier.fight</name>
<version>12</version>
<engineversion>72</engineversion>
<description>Carrier fight script</description>
<arguments>
</arguments>
<sourceplaintext>
<![CDATA[
  $null = null
  
  gosub sub.ResetDone
  $repair.pid = [THIS] -> get local variable: name='carrier.rpid'
  
  while [TRUE]
@   = wait 10000 ms
    
  * check if theres a new script version, and restart it
    if is a new script version available
      $task = get task ID
      $scriptName = get script name
@     START $null -> call script !lib.restart.task :  Object=[THIS]  Script=$scriptName  Task=$task  Argument 1=null  Argument 2=null  Argument 3=null  Argument 4=null  Argument 5=null
      break
    end
    
  * must have carrir command software installed
    if not [THIS] -> get amount of ware Carrier Command Software  in cargo bay
      if not [THIS] -> is of class M7D
@       = wait 5000 ms
        continue
      end
    end
    
    $sub.Ships = [THIS] ->get managed ships
    if not $sub.Ships
@     = wait 10000 ms
      continue
    end
    if not size of array $sub.Ships
@     = wait 10000 ms
      continue
    end
    
    if $repair.pid
      if not [THIS] -> is script !carrier.repair on stack of task=$repair.pid
        $repair.pid = null
      end
    end
    [THIS] ->set local variable: name='carrier.rpid' value=$repair.pid
    
@   = [THIS] -> call script !lib.carrier.recallidle : 
    
@   = wait 500 ms
    
  * check if any ships need to repair
    gosub sub.CheckRepair
    if $ret.Repair
@     = [THIS] -> call script !carrier.repair :  Target=null
    end
    
  * clear attack command if the target is destroyed
    $sub.Ships = [THIS] ->get managed ships
    gosub sub.ClearAttack
    
  * check for any threats and launch the defence force
    $sub.Ships = [THIS] ->get managed ships: role=Defender
    if $sub.Ships
      gosub sub.CheckThreat
      $sub.Target = $ret.Target
      gosub sub.Attack
    end
    
  * if the carrier is idle, we can do another task
    gosub sub.CheckIdle
    if $ret.Idle
@     = wait 2000 ms
      gosub sub.CheckRepair
      
      $cmd = [THIS] -> get command
      
      if ! $done.localRepair AND $ret.Repair AND ! $repair.pid
  *$repair.pid = [THIS] -> get next available task: starting=[Task.StartFree]
@       if [THIS] -> call script !carrier.repair :  Target=null  Wait=[FALSE]
          $done.localRepair = [TRUE]
          continue
        end
      end
      
  * first check if we need to buy any new ships and jump to the shipyard
      if not $done.buyships
@       $done.buyships = [THIS] -> call script !carrier.replace : 
        do if $done.buyships
          continue
      end
      
  * Now lets repair any ships that need it
      if ! $done.RepairShips AND $ret.Repair
        if $cmd == COMMAND_NONE
          START [THIS] -> command COMMAND_CARRIER_REPAIR : arg1=null, arg2=null, arg3=null, arg4=null
          $done.RepairShips = [TRUE]
        else
@         $done.RepairShips = [THIS] -> call script !carrier.move.repair : 
        end
        do if $done.RepairShips
          continue
      end
      
      if not $done.Loadouts
        gosub sub.DoLoadouts
        do if $done.Loadouts
          continue
      end
      
  * Finally, lets pick up any ships
      if not $done.pickup
@       = [THIS] -> call script !carrier.recall : 
        $done.pickup = [TRUE]
      else
        if $cmd == COMMAND_NONE
          START [THIS] -> command COMMAND_CARRIER_COLLECT : arg1=null, arg2=null, arg3=null, arg4=null
        else
@         = [THIS] -> call script !carrier.pickup : 
        end
        gosub sub.ResetDone
      end
  * Not idle, lets see if we need to attack anything
    else
      $sub.Ships = [THIS] ->get managed ships: role=Fighter
      if size of array $sub.Ships
        gosub sub.FindTarget
        if $ret.Target -> exists
          $sub.Target = $ret.Target
          gosub sub.Attack
        end
      end
    end
    
  end
  
  if $repair.pid
    if [THIS] -> is script !carrier.repair on stack of task=$repair.pid
      [THIS] ->start task $repair.pid with script !lib.interrupt and prio 100: arg1=null arg2=null arg3=null arg4=null arg5=null
    end
    [THIS] ->set local variable: name='carrier.rpid' value=null
  end
  return null
  
  sub.ClearAttack:
  $i = size of array $sub.Ships
  while $i
    dec $i = 
    $ship = $sub.Ships[$i]
    $cmd = $ship -> get command
    if $cmd == COMMAND_ATTACK
      $target = $ship -> get attack target
      skip if $target -> exists
        START $ship -> command COMMAND_NONE : arg1=null, arg2=null, arg3=null, arg4=null
    end
  end
  endsub
  
  sub.Attack:
  if $sub.Target -> exists
    $i = size of array $sub.Ships
    while $i
      dec $i = 
      $ship = $sub.Ships[$i]
      $cmd = $ship -> get command
@     do if [THIS] -> call script !lib.carrier.isshipbusy :  Ship=$ship  Allow Recall=[FALSE]
        continue
      START $ship -> command COMMAND_ATTACK : arg1=$sub.Target, arg2=null, arg3=null, arg4=null
    end
  end
  endsub
  
  sub.FindTarget:
  $ret.Target = [THIS] -> get attack target
  endsub
  
  sub.CheckThreat:
  $ret.Threat = [THIS] -> get attacker
  skip if $ret.Threat -> exists
    $ret.Threat = [THIS] -> get local variable: name='carrier.threat'
  
  [THIS] ->set local variable: name='carrier.threat' value=null
  
  if not $ret.Threat -> exists
    $aShips = [SECTOR] -> get ship array from sector/ship/station
    $tThreats = table alloc
    $i = size of array $aShips
    while $i
      dec $i = 
      $ship = $aShips[$i]
      $target = $ship -> get attack target
      if $target == [THIS]
        $ret.Threat = $ship
        break
      else if $target -> exists
        $target.owner = $target -> get owner race
        if $target.owner == [OWNER]
          $ret.Threat = $ship
          break
        end
      end
    end
  end
  endsub
  
  sub.CheckRepair:
  $ret.Repair = [FALSE]
  $hull.threshold = [THIS] ->get carrier hull repair threshold
  $aShips = [THIS] ->get managed ships
  if $aShips
    $hq = get player HQ
    if $hq -> exists
      $current.repair = $hq ->get HQ current repair
    else
      $current.repair = null
    end
    $i = size of array $aShips
    while $i
      dec $i = 
      $ship = $aShips[$i]
@     if not [THIS] -> call script !lib.carrier.isshipbusy :  Ship=$ship  Allow Recall=[FALSE]
        if $ship != $current.repair
          if not $ship ->is in repair queue
            $ship.owner = $ship -> get true owner
            if $ship.owner == [TRUEOWNER]
              $hull = $ship -> get hull percent
              if $hull <= $hull.threshold
                $ret.Repair = [TRUE]
                break
              end
            end
          end
        end
      end
    end
  end
  endsub
  
  sub.ResetDone:
  $done.buyships = [FALSE]
  $done.RepairShips = [FALSE]
  $done.localRepair = [FALSE]
  $done.Loadouts = [FALSE]
  $done.pickup = [FALSE]
  endsub
  
  sub.FindHQ:
  $ret.HQ = find station: sector=[SECTOR] class or type=Headquarters race=Player flags=[Find.Nearest] refobj=[THIS] maxdist=null maxnum=null refpos=null
  endsub
  
  sub.DoLoadouts:
  gosub sub.FindHQ
  $aNeedLoadout = array alloc: size=0
  $aShips = [THIS] ->get managed ships
  $i = size of array $aShips
  while $i
    dec $i = 
    $ship = $aShips[$i]
@   do if [THIS] -> call script !lib.carrier.isshipbusy :  Ship=$ship  Allow Recall=[FALSE]
      continue
    if $ship -> get local variable: name='carrier.manage.needloadout'
      append $ship to array $aNeedLoadout
  * check if the ship is missing its loadout
    else
      $loadout = [THIS] ->get managed ship loadout: ship=$ship
      if $loadout
        $shiptype = $ship -> get ware type code of object
        $loadout.id = [THIS] ->get HQ loadout id: name=$loadout subtype=$shiptype
        if $loadout.id
          $flags = [Loadout.Equipment] | [Loadout.Lasers] | [Loadout.Shields] | [Loadout.Upgrade]
          $loadoutWares = [THIS] ->get HQ loadout wares: id=$loadout.id flags=$flags
          if $loadoutWares
            $ware = get next key: table=$loadoutWares key=null
            while $ware
              $amt = $loadoutWares[$ware]
              $ship.amt = $ship -> get amount of ware $ware in cargo bay
              if $ship.amt < $amt
                append $ship to array $aNeedLoadout
                $ship ->set local variable: name='carrier.manage.needloadout' value=[TRUE]
                break
              end
              $ware = get next key: table=$loadoutWares key=$ware
            end
          end
        end
      end
    end
  end
  
  if size of array $aNeedLoadout
    if $ret.HQ -> exists
      $hq.sector = $ret.HQ -> get sector
      $max.dist = [THIS] ->get carrier maximum travel distance
      $jumps = get jumps from sector [SECTOR] to sector $hq.sector
      while $jumps > $max.dist
@       = wait 5000 ms
        $sub.Dest = $hq.sector
        gosub sub.MoveSector
        gosub sub.CheckIdle
        skip if $ret.Idle
          endsub
      end
      
      $done.Loadouts = [TRUE]
      
      $i = size of array $aNeedLoadout
      while $i
        dec $i = 
        $ship = $aNeedLoadout[$i]
        $loadout = [THIS] ->get managed ship loadout: ship=$ship
        if $loadout
          $shiptype = $ship -> get ware type code of object
          $loadout.id = $ret.HQ ->get HQ loadout id: name=$loadout subtype=$shiptype
          if $loadout.id
            START $ship -> command COMMAND_SHIP_LOADOUT : arg1=$ret.HQ, arg2=$loadout.id, arg3=null, arg4=null
@           = wait 1 ms
          end
        end
      end
      
      while size of array $aNeedLoadout
@       = wait 1000 ms
        $i = size of array $aNeedLoadout
        while $i
          dec $i = 
          $ship = $aNeedLoadout[$i]
          $cmd = $ship -> get command
          skip if $cmd == COMMAND_SHIP_LOADOUT
            remove element from array $aNeedLoadout at index $i
        end
      end
    end
  end
  
  endsub
  
  sub.CheckIdle:
  $current.cmd = [THIS] -> get command
  $ret.Idle = [FALSE]
  if [THIS] ->is carrier idling
    $ret.Idle = [TRUE]
  else if $current.cmd == COMMAND_IDLE OR $current.cmd == COMMAND_NONE
    $ret.Idle = [TRUE]
  end
  endsub
  
  sub.MoveSector:
@ = [THIS] -> call script !carrier.recall :  Force?=[FALSE]
  [THIS] ->set command: COMMAND_MOVE_SECTOR
  [THIS] ->set destination to $sub.Dest
@ = [THIS] -> call script !move.movetosector :  sector=$sub.Dest
  endsub
  
  sub.MoveInRange:
  [THIS] ->set command: COMMAND_MOVE_POS
  [THIS] ->set destination to $sub.Dest
  $x = $sub.Dest -> get x position
  $y = $sub.Dest -> get y position
  $z = $sub.Dest -> get z position
  $sector = $sub.Dest -> get sector
@ = [THIS] -> call script !move.movetoposition :  sector=$sector  position x=$x  position y=$y  position z=$z  precision=$sub.Range
  endsub
  return null
]]>
</sourceplaintext>
<sourcetext>
<line indent=""><var>$null&#160;=&#160;</var><var>null</var></line>
<line indent=""></line>
<line indent=""><text>gosub&#160;</text><var>sub.ResetDone</var></line>
<line indent=""><var>$repair.pid&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;get&#160;local&#160;variable:&#160;name=</text><var>'carrier.rpid'</var></line>
<line indent=""></line>
<line indent=""><var>while&#160;</var><var>[TRUE]</var></line>
<line interruptable="@" indent="&#160;"><var>=&#160;</var><text>wait&#160;</text><var>10000</var><text>&#160;ms</text></line>
<line indent="&#160;"></line>
<line indent=""><comment><text>*&#160;</text><var>check&#160;if&#160;theres&#160;a&#160;new&#160;script&#160;version,&#160;and&#160;restart&#160;it</var></comment></line>
<line indent="&#160;"><var>if&#160;</var><text>is&#160;a&#160;new&#160;script&#160;version&#160;available</text></line>
<line indent="&#160;&#160;"><var>$task&#160;=&#160;</var><text>get&#160;task&#160;ID</text></line>
<line indent="&#160;&#160;"><var>$scriptName&#160;=&#160;</var><text>get&#160;script&#160;name</text></line>
<line interruptable="@" indent="&#160;&#160;"><var>START&#160;</var><var>$null&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>!lib.restart.task</call><text>&#160;:&#160;</text><text>&#160;Object=</text><var>[THIS]</var><text>&#160;</text><text>&#160;Script=</text><var>$scriptName</var><text>&#160;</text><text>&#160;Task=</text><var>$task</var><text>&#160;</text><text>&#160;Argument&#160;1=</text><var>null</var><text>&#160;</text><text>&#160;Argument&#160;2=</text><var>null</var><text>&#160;</text><text>&#160;Argument&#160;3=</text><var>null</var><text>&#160;</text><text>&#160;Argument&#160;4=</text><var>null</var><text>&#160;</text><text>&#160;Argument&#160;5=</text><var>null</var></line>
<line indent="&#160;&#160;"><text>break</text></line>
<line indent="&#160;"><text>end</text></line>
<line indent="&#160;"></line>
<line indent=""><comment><text>*&#160;</text><var>must&#160;have&#160;carrir&#160;command&#160;software&#160;installed</var></comment></line>
<line indent="&#160;"><var>if&#160;not&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;get&#160;amount&#160;of&#160;ware&#160;</text><var>Carrier&#160;Command&#160;Software&#160;</var><text>&#160;in&#160;cargo&#160;bay</text></line>
<line indent="&#160;&#160;"><var>if&#160;not&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;is&#160;of&#160;class&#160;</text><var>M7D</var></line>
<line interruptable="@" indent="&#160;&#160;&#160;"><var>=&#160;</var><text>wait&#160;</text><var>5000</var><text>&#160;ms</text></line>
<line indent="&#160;&#160;&#160;"><text>continue</text></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;"><text>end</text></line>
<line indent="&#160;"></line>
<line indent="&#160;"><var>$sub.Ships&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>get&#160;managed&#160;ships</text></line>
<line indent="&#160;"><var>if&#160;not&#160;</var><var>$sub.Ships</var></line>
<line interruptable="@" indent="&#160;&#160;"><var>=&#160;</var><text>wait&#160;</text><var>10000</var><text>&#160;ms</text></line>
<line indent="&#160;&#160;"><text>continue</text></line>
<line indent="&#160;"><text>end</text></line>
<line indent="&#160;"><var>if&#160;not&#160;</var><text>size&#160;of&#160;array&#160;</text><var>$sub.Ships</var></line>
<line interruptable="@" indent="&#160;&#160;"><var>=&#160;</var><text>wait&#160;</text><var>10000</var><text>&#160;ms</text></line>
<line indent="&#160;&#160;"><text>continue</text></line>
<line indent="&#160;"><text>end</text></line>
<line indent="&#160;"></line>
<line indent="&#160;"><var>if&#160;</var><var>$repair.pid</var></line>
<line indent="&#160;&#160;"><var>if&#160;not&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;is&#160;script&#160;</text><call>!carrier.repair</call><text>&#160;on&#160;stack&#160;of&#160;task=</text><var>$repair.pid</var></line>
<line indent="&#160;&#160;&#160;"><var>$repair.pid&#160;=&#160;</var><var>null</var></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;"><text>end</text></line>
<line indent="&#160;"><var>[THIS]&#160;-&gt;</var><text>set&#160;local&#160;variable:&#160;name=</text><var>'carrier.rpid'</var><text>&#160;value=</text><var>$repair.pid</var></line>
<line indent="&#160;"></line>
<line interruptable="@" indent="&#160;"><var>=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>!lib.carrier.recallidle</call><text>&#160;:&#160;</text></line>
<line indent="&#160;"></line>
<line interruptable="@" indent="&#160;"><var>=&#160;</var><text>wait&#160;</text><var>500</var><text>&#160;ms</text></line>
<line indent="&#160;"></line>
<line indent=""><comment><text>*&#160;</text><var>check&#160;if&#160;any&#160;ships&#160;need&#160;to&#160;repair</var></comment></line>
<line indent="&#160;"><text>gosub&#160;</text><var>sub.CheckRepair</var></line>
<line indent="&#160;"><var>if&#160;</var><var>$ret.Repair</var></line>
<line interruptable="@" indent="&#160;&#160;"><var>=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>!carrier.repair</call><text>&#160;:&#160;</text><text>&#160;Target=</text><var>null</var></line>
<line indent="&#160;"><text>end</text></line>
<line indent="&#160;"></line>
<line indent=""><comment><text>*&#160;</text><var>clear&#160;attack&#160;command&#160;if&#160;the&#160;target&#160;is&#160;destroyed</var></comment></line>
<line indent="&#160;"><var>$sub.Ships&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>get&#160;managed&#160;ships</text></line>
<line indent="&#160;"><text>gosub&#160;</text><var>sub.ClearAttack</var></line>
<line indent="&#160;"></line>
<line indent=""><comment><text>*&#160;</text><var>check&#160;for&#160;any&#160;threats&#160;and&#160;launch&#160;the&#160;defence&#160;force</var></comment></line>
<line indent="&#160;"><var>$sub.Ships&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>get&#160;managed&#160;ships:&#160;role=</text><var>Defender</var></line>
<line indent="&#160;"><var>if&#160;</var><var>$sub.Ships</var></line>
<line indent="&#160;&#160;"><text>gosub&#160;</text><var>sub.CheckThreat</var></line>
<line indent="&#160;&#160;"><var>$sub.Target&#160;=&#160;</var><var>$ret.Target</var></line>
<line indent="&#160;&#160;"><text>gosub&#160;</text><var>sub.Attack</var></line>
<line indent="&#160;"><text>end</text></line>
<line indent="&#160;"></line>
<line indent=""><comment><text>*&#160;</text><var>if&#160;the&#160;carrier&#160;is&#160;idle,&#160;we&#160;can&#160;do&#160;another&#160;task</var></comment></line>
<line indent="&#160;"><text>gosub&#160;</text><var>sub.CheckIdle</var></line>
<line indent="&#160;"><var>if&#160;</var><var>$ret.Idle</var></line>
<line interruptable="@" indent="&#160;&#160;"><var>=&#160;</var><text>wait&#160;</text><var>2000</var><text>&#160;ms</text></line>
<line indent="&#160;&#160;"><text>gosub&#160;</text><var>sub.CheckRepair</var></line>
<line indent="&#160;&#160;"></line>
<line indent="&#160;&#160;"><var>$cmd&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;get&#160;command</text></line>
<line indent="&#160;&#160;"></line>
<line indent="&#160;&#160;"><var>if&#160;</var><var>!</var><text>&#160;</text><var>$done.localRepair</var><text>&#160;</text><var>AND</var><text>&#160;</text><var>$ret.Repair</var><text>&#160;</text><var>AND</var><text>&#160;</text><var>!</var><text>&#160;</text><var>$repair.pid</var></line>
<line indent=""><comment>*$repair.pid&#160;=&#160;[THIS]&#160;-&gt;<text>&#160;get&#160;next&#160;available&#160;task:&#160;starting=</text>[Task.StartFree]</comment></line>
<line interruptable="@" indent="&#160;&#160;&#160;"><var>if&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>!carrier.repair</call><text>&#160;:&#160;</text><text>&#160;Target=</text><var>null</var><text>&#160;</text><text>&#160;Wait=</text><var>[FALSE]</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$done.localRepair&#160;=&#160;</var><var>[TRUE]</var></line>
<line indent="&#160;&#160;&#160;&#160;"><text>continue</text></line>
<line indent="&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;"></line>
<line indent=""><comment><text>*&#160;</text><var>first&#160;check&#160;if&#160;we&#160;need&#160;to&#160;buy&#160;any&#160;new&#160;ships&#160;and&#160;jump&#160;to&#160;the&#160;shipyard</var></comment></line>
<line indent="&#160;&#160;"><var>if&#160;not&#160;</var><var>$done.buyships</var></line>
<line interruptable="@" indent="&#160;&#160;&#160;"><var>$done.buyships&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>!carrier.replace</call><text>&#160;:&#160;</text></line>
<line indent="&#160;&#160;&#160;"><var>do&#160;if&#160;</var><var>$done.buyships</var></line>
<line indent="&#160;&#160;&#160;&#160;"><text>continue</text></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;"></line>
<line indent=""><comment><text>*&#160;</text><var>Now&#160;lets&#160;repair&#160;any&#160;ships&#160;that&#160;need&#160;it</var></comment></line>
<line indent="&#160;&#160;"><var>if&#160;</var><var>!</var><text>&#160;</text><var>$done.RepairShips</var><text>&#160;</text><var>AND</var><text>&#160;</text><var>$ret.Repair</var></line>
<line indent="&#160;&#160;&#160;"><var>if&#160;</var><var>$cmd</var><text>&#160;</text><var>==</var><text>&#160;</text><var>COMMAND_NONE</var></line>
<line indent="&#160;&#160;&#160;&#160;"><text>START&#160;</text><var>[THIS]&#160;-&gt;</var><text>&#160;command&#160;</text><var>COMMAND_CARRIER_REPAIR</var><text>&#160;:&#160;arg1=</text><var>null</var><text>,&#160;arg2=</text><var>null</var><text>,&#160;arg3=</text><var>null</var><text>,&#160;arg4=</text><var>null</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$done.RepairShips&#160;=&#160;</var><var>[TRUE]</var></line>
<line indent="&#160;&#160;&#160;"><text>else</text></line>
<line interruptable="@" indent="&#160;&#160;&#160;&#160;"><var>$done.RepairShips&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>!carrier.move.repair</call><text>&#160;:&#160;</text></line>
<line indent="&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;&#160;"><var>do&#160;if&#160;</var><var>$done.RepairShips</var></line>
<line indent="&#160;&#160;&#160;&#160;"><text>continue</text></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;"></line>
<line indent="&#160;&#160;"><var>if&#160;not&#160;</var><var>$done.Loadouts</var></line>
<line indent="&#160;&#160;&#160;"><text>gosub&#160;</text><var>sub.DoLoadouts</var></line>
<line indent="&#160;&#160;&#160;"><var>do&#160;if&#160;</var><var>$done.Loadouts</var></line>
<line indent="&#160;&#160;&#160;&#160;"><text>continue</text></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;"></line>
<line indent=""><comment><text>*&#160;</text><var>Finally,&#160;lets&#160;pick&#160;up&#160;any&#160;ships</var></comment></line>
<line indent="&#160;&#160;"><var>if&#160;not&#160;</var><var>$done.pickup</var></line>
<line interruptable="@" indent="&#160;&#160;&#160;"><var>=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>!carrier.recall</call><text>&#160;:&#160;</text></line>
<line indent="&#160;&#160;&#160;"><var>$done.pickup&#160;=&#160;</var><var>[TRUE]</var></line>
<line indent="&#160;&#160;"><text>else</text></line>
<line indent="&#160;&#160;&#160;"><var>if&#160;</var><var>$cmd</var><text>&#160;</text><var>==</var><text>&#160;</text><var>COMMAND_NONE</var></line>
<line indent="&#160;&#160;&#160;&#160;"><text>START&#160;</text><var>[THIS]&#160;-&gt;</var><text>&#160;command&#160;</text><var>COMMAND_CARRIER_COLLECT</var><text>&#160;:&#160;arg1=</text><var>null</var><text>,&#160;arg2=</text><var>null</var><text>,&#160;arg3=</text><var>null</var><text>,&#160;arg4=</text><var>null</var></line>
<line indent="&#160;&#160;&#160;"><text>else</text></line>
<line interruptable="@" indent="&#160;&#160;&#160;&#160;"><var>=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>!carrier.pickup</call><text>&#160;:&#160;</text></line>
<line indent="&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;&#160;"><text>gosub&#160;</text><var>sub.ResetDone</var></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent=""><comment><text>*&#160;</text><var>Not&#160;idle,&#160;lets&#160;see&#160;if&#160;we&#160;need&#160;to&#160;attack&#160;anything</var></comment></line>
<line indent="&#160;"><text>else</text></line>
<line indent="&#160;&#160;"><var>$sub.Ships&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>get&#160;managed&#160;ships:&#160;role=</text><var>Fighter</var></line>
<line indent="&#160;&#160;"><var>if&#160;</var><text>size&#160;of&#160;array&#160;</text><var>$sub.Ships</var></line>
<line indent="&#160;&#160;&#160;"><text>gosub&#160;</text><var>sub.FindTarget</var></line>
<line indent="&#160;&#160;&#160;"><var>if&#160;</var><var>$ret.Target&#160;-&gt;</var><text>&#160;exists</text></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$sub.Target&#160;=&#160;</var><var>$ret.Target</var></line>
<line indent="&#160;&#160;&#160;&#160;"><text>gosub&#160;</text><var>sub.Attack</var></line>
<line indent="&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;"><text>end</text></line>
<line indent="&#160;"></line>
<line indent=""><text>end</text></line>
<line indent=""></line>
<line indent=""><var>if&#160;</var><var>$repair.pid</var></line>
<line indent="&#160;"><var>if&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;is&#160;script&#160;</text><call>!carrier.repair</call><text>&#160;on&#160;stack&#160;of&#160;task=</text><var>$repair.pid</var></line>
<line indent="&#160;&#160;"><var>[THIS]&#160;-&gt;</var><text>start&#160;task&#160;</text><var>$repair.pid</var><text>&#160;with&#160;script&#160;</text><call>!lib.interrupt</call><text>&#160;and&#160;prio&#160;</text><var>100</var><text>:&#160;arg1=</text><var>null</var><text>&#160;arg2=</text><var>null</var><text>&#160;arg3=</text><var>null</var><text>&#160;arg4=</text><var>null</var><text>&#160;arg5=</text><var>null</var></line>
<line indent="&#160;"><text>end</text></line>
<line indent="&#160;"><var>[THIS]&#160;-&gt;</var><text>set&#160;local&#160;variable:&#160;name=</text><var>'carrier.rpid'</var><text>&#160;value=</text><var>null</var></line>
<line indent=""><text>end</text></line>
<line indent=""><text>return&#160;</text><var>null</var></line>
<line indent=""></line>
<line indent=""><var>sub.ClearAttack</var><text>:</text></line>
<line indent=""><var>$i&#160;=&#160;</var><text>size&#160;of&#160;array&#160;</text><var>$sub.Ships</var></line>
<line indent=""><var>while&#160;</var><var>$i</var></line>
<line indent="&#160;"><text>dec&#160;</text><var>$i&#160;=&#160;</var></line>
<line indent="&#160;"><var>$ship&#160;=&#160;</var><var>$sub.Ships</var><text>[</text><var>$i</var><text>]</text></line>
<line indent="&#160;"><var>$cmd&#160;=&#160;</var><var>$ship&#160;-&gt;</var><text>&#160;get&#160;command</text></line>
<line indent="&#160;"><var>if&#160;</var><var>$cmd</var><text>&#160;</text><var>==</var><text>&#160;</text><var>COMMAND_ATTACK</var></line>
<line indent="&#160;&#160;"><var>$target&#160;=&#160;</var><var>$ship&#160;-&gt;</var><text>&#160;get&#160;attack&#160;target</text></line>
<line indent="&#160;&#160;"><var>skip&#160;if&#160;</var><var>$target&#160;-&gt;</var><text>&#160;exists</text></line>
<line indent="&#160;&#160;&#160;"><text>START&#160;</text><var>$ship&#160;-&gt;</var><text>&#160;command&#160;</text><var>COMMAND_NONE</var><text>&#160;:&#160;arg1=</text><var>null</var><text>,&#160;arg2=</text><var>null</var><text>,&#160;arg3=</text><var>null</var><text>,&#160;arg4=</text><var>null</var></line>
<line indent="&#160;"><text>end</text></line>
<line indent=""><text>end</text></line>
<line indent=""><text>endsub</text></line>
<line indent=""></line>
<line indent=""><var>sub.Attack</var><text>:</text></line>
<line indent=""><var>if&#160;</var><var>$sub.Target&#160;-&gt;</var><text>&#160;exists</text></line>
<line indent="&#160;"><var>$i&#160;=&#160;</var><text>size&#160;of&#160;array&#160;</text><var>$sub.Ships</var></line>
<line indent="&#160;"><var>while&#160;</var><var>$i</var></line>
<line indent="&#160;&#160;"><text>dec&#160;</text><var>$i&#160;=&#160;</var></line>
<line indent="&#160;&#160;"><var>$ship&#160;=&#160;</var><var>$sub.Ships</var><text>[</text><var>$i</var><text>]</text></line>
<line indent="&#160;&#160;"><var>$cmd&#160;=&#160;</var><var>$ship&#160;-&gt;</var><text>&#160;get&#160;command</text></line>
<line interruptable="@" indent="&#160;&#160;"><var>do&#160;if&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>!lib.carrier.isshipbusy</call><text>&#160;:&#160;</text><text>&#160;Ship=</text><var>$ship</var><text>&#160;</text><text>&#160;Allow&#160;Recall=</text><var>[FALSE]</var></line>
<line indent="&#160;&#160;&#160;"><text>continue</text></line>
<line indent="&#160;&#160;"><text>START&#160;</text><var>$ship&#160;-&gt;</var><text>&#160;command&#160;</text><var>COMMAND_ATTACK</var><text>&#160;:&#160;arg1=</text><var>$sub.Target</var><text>,&#160;arg2=</text><var>null</var><text>,&#160;arg3=</text><var>null</var><text>,&#160;arg4=</text><var>null</var></line>
<line indent="&#160;"><text>end</text></line>
<line indent=""><text>end</text></line>
<line indent=""><text>endsub</text></line>
<line indent=""></line>
<line indent=""><var>sub.FindTarget</var><text>:</text></line>
<line indent=""><var>$ret.Target&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;get&#160;attack&#160;target</text></line>
<line indent=""><text>endsub</text></line>
<line indent=""></line>
<line indent=""><var>sub.CheckThreat</var><text>:</text></line>
<line indent=""><var>$ret.Threat&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;get&#160;attacker</text></line>
<line indent=""><var>skip&#160;if&#160;</var><var>$ret.Threat&#160;-&gt;</var><text>&#160;exists</text></line>
<line indent="&#160;"><var>$ret.Threat&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;get&#160;local&#160;variable:&#160;name=</text><var>'carrier.threat'</var></line>
<line indent=""></line>
<line indent=""><var>[THIS]&#160;-&gt;</var><text>set&#160;local&#160;variable:&#160;name=</text><var>'carrier.threat'</var><text>&#160;value=</text><var>null</var></line>
<line indent=""></line>
<line indent=""><var>if&#160;not&#160;</var><var>$ret.Threat&#160;-&gt;</var><text>&#160;exists</text></line>
<line indent="&#160;"><var>$aShips&#160;=&#160;</var><var>[SECTOR]&#160;-&gt;</var><text>&#160;get&#160;ship&#160;array&#160;from&#160;sector/ship/station</text></line>
<line indent="&#160;"><var>$tThreats&#160;=&#160;</var><text>table&#160;alloc</text></line>
<line indent="&#160;"><var>$i&#160;=&#160;</var><text>size&#160;of&#160;array&#160;</text><var>$aShips</var></line>
<line indent="&#160;"><var>while&#160;</var><var>$i</var></line>
<line indent="&#160;&#160;"><text>dec&#160;</text><var>$i&#160;=&#160;</var></line>
<line indent="&#160;&#160;"><var>$ship&#160;=&#160;</var><var>$aShips</var><text>[</text><var>$i</var><text>]</text></line>
<line indent="&#160;&#160;"><var>$target&#160;=&#160;</var><var>$ship&#160;-&gt;</var><text>&#160;get&#160;attack&#160;target</text></line>
<line indent="&#160;&#160;"><var>if&#160;</var><var>$target</var><text>&#160;</text><var>==</var><text>&#160;</text><var>[THIS]</var></line>
<line indent="&#160;&#160;&#160;"><var>$ret.Threat&#160;=&#160;</var><var>$ship</var></line>
<line indent="&#160;&#160;&#160;"><text>break</text></line>
<line indent="&#160;&#160;"><var>else&#160;if&#160;</var><var>$target&#160;-&gt;</var><text>&#160;exists</text></line>
<line indent="&#160;&#160;&#160;"><var>$target.owner&#160;=&#160;</var><var>$target&#160;-&gt;</var><text>&#160;get&#160;owner&#160;race</text></line>
<line indent="&#160;&#160;&#160;"><var>if&#160;</var><var>$target.owner</var><text>&#160;</text><var>==</var><text>&#160;</text><var>[OWNER]</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$ret.Threat&#160;=&#160;</var><var>$ship</var></line>
<line indent="&#160;&#160;&#160;&#160;"><text>break</text></line>
<line indent="&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;"><text>end</text></line>
<line indent=""><text>end</text></line>
<line indent=""><text>endsub</text></line>
<line indent=""></line>
<line indent=""><var>sub.CheckRepair</var><text>:</text></line>
<line indent=""><var>$ret.Repair&#160;=&#160;</var><var>[FALSE]</var></line>
<line indent=""><var>$hull.threshold&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>get&#160;carrier&#160;hull&#160;repair&#160;threshold</text></line>
<line indent=""><var>$aShips&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>get&#160;managed&#160;ships</text></line>
<line indent=""><var>if&#160;</var><var>$aShips</var></line>
<line indent="&#160;"><var>$hq&#160;=&#160;</var><text>get&#160;player&#160;HQ</text></line>
<line indent="&#160;"><var>if&#160;</var><var>$hq&#160;-&gt;</var><text>&#160;exists</text></line>
<line indent="&#160;&#160;"><var>$current.repair&#160;=&#160;</var><var>$hq&#160;-&gt;</var><text>get&#160;HQ&#160;current&#160;repair</text></line>
<line indent="&#160;"><text>else</text></line>
<line indent="&#160;&#160;"><var>$current.repair&#160;=&#160;</var><var>null</var></line>
<line indent="&#160;"><text>end</text></line>
<line indent="&#160;"><var>$i&#160;=&#160;</var><text>size&#160;of&#160;array&#160;</text><var>$aShips</var></line>
<line indent="&#160;"><var>while&#160;</var><var>$i</var></line>
<line indent="&#160;&#160;"><text>dec&#160;</text><var>$i&#160;=&#160;</var></line>
<line indent="&#160;&#160;"><var>$ship&#160;=&#160;</var><var>$aShips</var><text>[</text><var>$i</var><text>]</text></line>
<line interruptable="@" indent="&#160;&#160;"><var>if&#160;not&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>!lib.carrier.isshipbusy</call><text>&#160;:&#160;</text><text>&#160;Ship=</text><var>$ship</var><text>&#160;</text><text>&#160;Allow&#160;Recall=</text><var>[FALSE]</var></line>
<line indent="&#160;&#160;&#160;"><var>if&#160;</var><var>$ship</var><text>&#160;</text><var>!=</var><text>&#160;</text><var>$current.repair</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>if&#160;not&#160;</var><var>$ship&#160;-&gt;</var><text>is&#160;in&#160;repair&#160;queue</text></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><var>$ship.owner&#160;=&#160;</var><var>$ship&#160;-&gt;</var><text>&#160;get&#160;true&#160;owner</text></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><var>if&#160;</var><var>$ship.owner</var><text>&#160;</text><var>==</var><text>&#160;</text><var>[TRUEOWNER]</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;"><var>$hull&#160;=&#160;</var><var>$ship&#160;-&gt;</var><text>&#160;get&#160;hull&#160;percent</text></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;"><var>if&#160;</var><var>$hull</var><text>&#160;</text><var>&lt;=</var><text>&#160;</text><var>$hull.threshold</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;&#160;"><var>$ret.Repair&#160;=&#160;</var><var>[TRUE]</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;&#160;"><text>break</text></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;"><text>end</text></line>
<line indent=""><text>end</text></line>
<line indent=""><text>endsub</text></line>
<line indent=""></line>
<line indent=""><var>sub.ResetDone</var><text>:</text></line>
<line indent=""><var>$done.buyships&#160;=&#160;</var><var>[FALSE]</var></line>
<line indent=""><var>$done.RepairShips&#160;=&#160;</var><var>[FALSE]</var></line>
<line indent=""><var>$done.localRepair&#160;=&#160;</var><var>[FALSE]</var></line>
<line indent=""><var>$done.Loadouts&#160;=&#160;</var><var>[FALSE]</var></line>
<line indent=""><var>$done.pickup&#160;=&#160;</var><var>[FALSE]</var></line>
<line indent=""><text>endsub</text></line>
<line indent=""></line>
<line indent=""><var>sub.FindHQ</var><text>:</text></line>
<line indent=""><var>$ret.HQ&#160;=&#160;</var><text>find&#160;station:&#160;sector=</text><var>[SECTOR]</var><text>&#160;class&#160;or&#160;type=</text><var>Headquarters</var><text>&#160;race=</text><var>Player</var><text>&#160;flags=</text><var>[Find.Nearest]</var><text>&#160;refobj=</text><var>[THIS]</var><text>&#160;maxdist=</text><var>null</var><text>&#160;maxnum=</text><var>null</var><text>&#160;refpos=</text><var>null</var></line>
<line indent=""><text>endsub</text></line>
<line indent=""></line>
<line indent=""><var>sub.DoLoadouts</var><text>:</text></line>
<line indent=""><text>gosub&#160;</text><var>sub.FindHQ</var></line>
<line indent=""><var>$aNeedLoadout&#160;=&#160;</var><text>array&#160;alloc:&#160;size=</text><var>0</var></line>
<line indent=""><var>$aShips&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>get&#160;managed&#160;ships</text></line>
<line indent=""><var>$i&#160;=&#160;</var><text>size&#160;of&#160;array&#160;</text><var>$aShips</var></line>
<line indent=""><var>while&#160;</var><var>$i</var></line>
<line indent="&#160;"><text>dec&#160;</text><var>$i&#160;=&#160;</var></line>
<line indent="&#160;"><var>$ship&#160;=&#160;</var><var>$aShips</var><text>[</text><var>$i</var><text>]</text></line>
<line interruptable="@" indent="&#160;"><var>do&#160;if&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>!lib.carrier.isshipbusy</call><text>&#160;:&#160;</text><text>&#160;Ship=</text><var>$ship</var><text>&#160;</text><text>&#160;Allow&#160;Recall=</text><var>[FALSE]</var></line>
<line indent="&#160;&#160;"><text>continue</text></line>
<line indent="&#160;"><var>if&#160;</var><var>$ship&#160;-&gt;</var><text>&#160;get&#160;local&#160;variable:&#160;name=</text><var>'carrier.manage.needloadout'</var></line>
<line indent="&#160;&#160;"><text>append&#160;</text><var>$ship</var><text>&#160;to&#160;array&#160;</text><var>$aNeedLoadout</var></line>
<line indent=""><comment><text>*&#160;</text><var>check&#160;if&#160;the&#160;ship&#160;is&#160;missing&#160;its&#160;loadout</var></comment></line>
<line indent="&#160;"><text>else</text></line>
<line indent="&#160;&#160;"><var>$loadout&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>get&#160;managed&#160;ship&#160;loadout:&#160;ship=</text><var>$ship</var></line>
<line indent="&#160;&#160;"><var>if&#160;</var><var>$loadout</var></line>
<line indent="&#160;&#160;&#160;"><var>$shiptype&#160;=&#160;</var><var>$ship&#160;-&gt;</var><text>&#160;get&#160;ware&#160;type&#160;code&#160;of&#160;object</text></line>
<line indent="&#160;&#160;&#160;"><var>$loadout.id&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>get&#160;HQ&#160;loadout&#160;id:&#160;name=</text><var>$loadout</var><text>&#160;subtype=</text><var>$shiptype</var></line>
<line indent="&#160;&#160;&#160;"><var>if&#160;</var><var>$loadout.id</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$flags&#160;=&#160;</var><var>[Loadout.Equipment]</var><text>&#160;</text><var>|</var><text>&#160;</text><var>[Loadout.Lasers]</var><text>&#160;</text><var>|</var><text>&#160;</text><var>[Loadout.Shields]</var><text>&#160;</text><var>|</var><text>&#160;</text><var>[Loadout.Upgrade]</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$loadoutWares&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>get&#160;HQ&#160;loadout&#160;wares:&#160;id=</text><var>$loadout.id</var><text>&#160;flags=</text><var>$flags</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>if&#160;</var><var>$loadoutWares</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><var>$ware&#160;=&#160;</var><text>get&#160;next&#160;key:&#160;table=</text><var>$loadoutWares</var><text>&#160;key=</text><var>null</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><var>while&#160;</var><var>$ware</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;"><var>$amt&#160;=&#160;</var><var>$loadoutWares</var><text>[</text><var>$ware</var><text>]</text></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;"><var>$ship.amt&#160;=&#160;</var><var>$ship&#160;-&gt;</var><text>&#160;get&#160;amount&#160;of&#160;ware&#160;</text><var>$ware</var><text>&#160;in&#160;cargo&#160;bay</text></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;"><var>if&#160;</var><var>$ship.amt</var><text>&#160;</text><var>&lt;</var><text>&#160;</text><var>$amt</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;&#160;"><text>append&#160;</text><var>$ship</var><text>&#160;to&#160;array&#160;</text><var>$aNeedLoadout</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;&#160;"><var>$ship&#160;-&gt;</var><text>set&#160;local&#160;variable:&#160;name=</text><var>'carrier.manage.needloadout'</var><text>&#160;value=</text><var>[TRUE]</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;&#160;"><text>break</text></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;&#160;&#160;&#160;&#160;"><var>$ware&#160;=&#160;</var><text>get&#160;next&#160;key:&#160;table=</text><var>$loadoutWares</var><text>&#160;key=</text><var>$ware</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;"><text>end</text></line>
<line indent=""><text>end</text></line>
<line indent=""></line>
<line indent=""><var>if&#160;</var><text>size&#160;of&#160;array&#160;</text><var>$aNeedLoadout</var></line>
<line indent="&#160;"><var>if&#160;</var><var>$ret.HQ&#160;-&gt;</var><text>&#160;exists</text></line>
<line indent="&#160;&#160;"><var>$hq.sector&#160;=&#160;</var><var>$ret.HQ&#160;-&gt;</var><text>&#160;get&#160;sector</text></line>
<line indent="&#160;&#160;"><var>$max.dist&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>get&#160;carrier&#160;maximum&#160;travel&#160;distance</text></line>
<line indent="&#160;&#160;"><var>$jumps&#160;=&#160;</var><text>get&#160;jumps&#160;from&#160;sector&#160;</text><var>[SECTOR]</var><text>&#160;to&#160;sector&#160;</text><var>$hq.sector</var></line>
<line indent="&#160;&#160;"><var>while&#160;</var><var>$jumps</var><text>&#160;</text><var>&gt;</var><text>&#160;</text><var>$max.dist</var></line>
<line interruptable="@" indent="&#160;&#160;&#160;"><var>=&#160;</var><text>wait&#160;</text><var>5000</var><text>&#160;ms</text></line>
<line indent="&#160;&#160;&#160;"><var>$sub.Dest&#160;=&#160;</var><var>$hq.sector</var></line>
<line indent="&#160;&#160;&#160;"><text>gosub&#160;</text><var>sub.MoveSector</var></line>
<line indent="&#160;&#160;&#160;"><text>gosub&#160;</text><var>sub.CheckIdle</var></line>
<line indent="&#160;&#160;&#160;"><var>skip&#160;if&#160;</var><var>$ret.Idle</var></line>
<line indent="&#160;&#160;&#160;&#160;"><text>endsub</text></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;"></line>
<line indent="&#160;&#160;"><var>$done.Loadouts&#160;=&#160;</var><var>[TRUE]</var></line>
<line indent="&#160;&#160;"></line>
<line indent="&#160;&#160;"><var>$i&#160;=&#160;</var><text>size&#160;of&#160;array&#160;</text><var>$aNeedLoadout</var></line>
<line indent="&#160;&#160;"><var>while&#160;</var><var>$i</var></line>
<line indent="&#160;&#160;&#160;"><text>dec&#160;</text><var>$i&#160;=&#160;</var></line>
<line indent="&#160;&#160;&#160;"><var>$ship&#160;=&#160;</var><var>$aNeedLoadout</var><text>[</text><var>$i</var><text>]</text></line>
<line indent="&#160;&#160;&#160;"><var>$loadout&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>get&#160;managed&#160;ship&#160;loadout:&#160;ship=</text><var>$ship</var></line>
<line indent="&#160;&#160;&#160;"><var>if&#160;</var><var>$loadout</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$shiptype&#160;=&#160;</var><var>$ship&#160;-&gt;</var><text>&#160;get&#160;ware&#160;type&#160;code&#160;of&#160;object</text></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$loadout.id&#160;=&#160;</var><var>$ret.HQ&#160;-&gt;</var><text>get&#160;HQ&#160;loadout&#160;id:&#160;name=</text><var>$loadout</var><text>&#160;subtype=</text><var>$shiptype</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>if&#160;</var><var>$loadout.id</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><text>START&#160;</text><var>$ship&#160;-&gt;</var><text>&#160;command&#160;</text><var>COMMAND_SHIP_LOADOUT</var><text>&#160;:&#160;arg1=</text><var>$ret.HQ</var><text>,&#160;arg2=</text><var>$loadout.id</var><text>,&#160;arg3=</text><var>null</var><text>,&#160;arg4=</text><var>null</var></line>
<line interruptable="@" indent="&#160;&#160;&#160;&#160;&#160;"><var>=&#160;</var><text>wait&#160;</text><var>1</var><text>&#160;ms</text></line>
<line indent="&#160;&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;"></line>
<line indent="&#160;&#160;"><var>while&#160;</var><text>size&#160;of&#160;array&#160;</text><var>$aNeedLoadout</var></line>
<line interruptable="@" indent="&#160;&#160;&#160;"><var>=&#160;</var><text>wait&#160;</text><var>1000</var><text>&#160;ms</text></line>
<line indent="&#160;&#160;&#160;"><var>$i&#160;=&#160;</var><text>size&#160;of&#160;array&#160;</text><var>$aNeedLoadout</var></line>
<line indent="&#160;&#160;&#160;"><var>while&#160;</var><var>$i</var></line>
<line indent="&#160;&#160;&#160;&#160;"><text>dec&#160;</text><var>$i&#160;=&#160;</var></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$ship&#160;=&#160;</var><var>$aNeedLoadout</var><text>[</text><var>$i</var><text>]</text></line>
<line indent="&#160;&#160;&#160;&#160;"><var>$cmd&#160;=&#160;</var><var>$ship&#160;-&gt;</var><text>&#160;get&#160;command</text></line>
<line indent="&#160;&#160;&#160;&#160;"><var>skip&#160;if&#160;</var><var>$cmd</var><text>&#160;</text><var>==</var><text>&#160;</text><var>COMMAND_SHIP_LOADOUT</var></line>
<line indent="&#160;&#160;&#160;&#160;&#160;"><text>remove&#160;element&#160;from&#160;array&#160;</text><var>$aNeedLoadout</var><text>&#160;at&#160;index&#160;</text><var>$i</var></line>
<line indent="&#160;&#160;&#160;"><text>end</text></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;"><text>end</text></line>
<line indent=""><text>end</text></line>
<line indent=""></line>
<line indent=""><text>endsub</text></line>
<line indent=""></line>
<line indent=""><var>sub.CheckIdle</var><text>:</text></line>
<line indent=""><var>$current.cmd&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;get&#160;command</text></line>
<line indent=""><var>$ret.Idle&#160;=&#160;</var><var>[FALSE]</var></line>
<line indent=""><var>if&#160;</var><var>[THIS]&#160;-&gt;</var><text>is&#160;carrier&#160;idling</text></line>
<line indent="&#160;"><var>$ret.Idle&#160;=&#160;</var><var>[TRUE]</var></line>
<line indent=""><var>else&#160;if&#160;</var><var>$current.cmd</var><text>&#160;</text><var>==</var><text>&#160;</text><var>COMMAND_IDLE</var><text>&#160;</text><var>OR</var><text>&#160;</text><var>$current.cmd</var><text>&#160;</text><var>==</var><text>&#160;</text><var>COMMAND_NONE</var></line>
<line indent="&#160;"><var>$ret.Idle&#160;=&#160;</var><var>[TRUE]</var></line>
<line indent=""><text>end</text></line>
<line indent=""><text>endsub</text></line>
<line indent=""></line>
<line indent=""><var>sub.MoveSector</var><text>:</text></line>
<line interruptable="@" indent=""><var>=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>!carrier.recall</call><text>&#160;:&#160;</text><text>&#160;Force?=</text><var>[FALSE]</var></line>
<line indent=""><var>[THIS]&#160;-&gt;</var><text>set&#160;command:&#160;</text><var>COMMAND_MOVE_SECTOR</var></line>
<line indent=""><var>[THIS]&#160;-&gt;</var><text>set&#160;destination&#160;to&#160;</text><var>$sub.Dest</var></line>
<line interruptable="@" indent=""><var>=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>!move.movetosector</call><text>&#160;:&#160;</text><text>&#160;sector=</text><var>$sub.Dest</var></line>
<line indent=""><text>endsub</text></line>
<line indent=""></line>
<line indent=""><var>sub.MoveInRange</var><text>:</text></line>
<line indent=""><var>[THIS]&#160;-&gt;</var><text>set&#160;command:&#160;</text><var>COMMAND_MOVE_POS</var></line>
<line indent=""><var>[THIS]&#160;-&gt;</var><text>set&#160;destination&#160;to&#160;</text><var>$sub.Dest</var></line>
<line indent=""><var>$x&#160;=&#160;</var><var>$sub.Dest&#160;-&gt;</var><text>&#160;get&#160;x&#160;position</text></line>
<line indent=""><var>$y&#160;=&#160;</var><var>$sub.Dest&#160;-&gt;</var><text>&#160;get&#160;y&#160;position</text></line>
<line indent=""><var>$z&#160;=&#160;</var><var>$sub.Dest&#160;-&gt;</var><text>&#160;get&#160;z&#160;position</text></line>
<line indent=""><var>$sector&#160;=&#160;</var><var>$sub.Dest&#160;-&gt;</var><text>&#160;get&#160;sector</text></line>
<line interruptable="@" indent=""><var>=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>!move.movetoposition</call><text>&#160;:&#160;</text><text>&#160;sector=</text><var>$sector</var><text>&#160;</text><text>&#160;position&#160;x=</text><var>$x</var><text>&#160;</text><text>&#160;position&#160;y=</text><var>$y</var><text>&#160;</text><text>&#160;position&#160;z=</text><var>$z</var><text>&#160;</text><text>&#160;precision=</text><var>$sub.Range</var></line>
<line indent=""><text>endsub</text></line>
<line indent=""><text>return&#160;</text><var>null</var></line>
</sourcetext>
<codearray>

<sval type="array" size="10">
  <sval type="string" val="!carrier.fight"/>
  <sval type="int" val="72"/>
  <sval type="string" val="Carrier fight script"/>
  <sval type="int" val="12"/>
  <sval type="int" val="0"/>
  <sval type="array" size="47">
    <sval type="string" val="null"/>
    <sval type="string" val="repair.pid"/>
    <sval type="string" val="task"/>
    <sval type="string" val="scriptName"/>
    <sval type="string" val="sub.Ships"/>
    <sval type="string" val="ret.Repair"/>
    <sval type="string" val="sub.Target"/>
    <sval type="string" val="ret.Target"/>
    <sval type="string" val="ret.Idle"/>
    <sval type="string" val="cmd"/>
    <sval type="string" val="done.localRepair"/>
    <sval type="string" val="done.buyships"/>
    <sval type="string" val="done.RepairShips"/>
    <sval type="string" val="done.Loadouts"/>
    <sval type="string" val="done.pickup"/>
    <sval type="string" val="i"/>
    <sval type="string" val="ship"/>
    <sval type="string" val="target"/>
    <sval type="string" val="ret.Threat"/>
    <sval type="string" val="aShips"/>
    <sval type="string" val="tThreats"/>
    <sval type="string" val="target.owner"/>
    <sval type="string" val="hull.threshold"/>
    <sval type="string" val="hq"/>
    <sval type="string" val="current.repair"/>
    <sval type="string" val="ship.owner"/>
    <sval type="string" val="hull"/>
    <sval type="string" val="ret.HQ"/>
    <sval type="string" val="aNeedLoadout"/>
    <sval type="string" val="loadout"/>
    <sval type="string" val="shiptype"/>
    <sval type="string" val="loadout.id"/>
    <sval type="string" val="flags"/>
    <sval type="string" val="loadoutWares"/>
    <sval type="string" val="ware"/>
    <sval type="string" val="amt"/>
    <sval type="string" val="ship.amt"/>
    <sval type="string" val="hq.sector"/>
    <sval type="string" val="max.dist"/>
    <sval type="string" val="jumps"/>
    <sval type="string" val="sub.Dest"/>
    <sval type="string" val="current.cmd"/>
    <sval type="string" val="x"/>
    <sval type="string" val="y"/>
    <sval type="string" val="z"/>
    <sval type="string" val="sector"/>
    <sval type="string" val="sub.Range"/>
  </sval>
  <sval type="array" size="265">
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="160"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="156"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="5"/>
      <sval type="string" val="carrier.rpid"/>
      <sval type="int" val="1"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610592503"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="105"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="4"/>
      <sval type="int" val="10000"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1201"/>
      <sval type="int" val="-1610610173"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="147"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1032"/>
      <sval type="int" val="3"/>
    </sval>
    <sval type="array" size="22">
      <sval type="int" val="102"/>
      <sval type="string" val="!lib.restart.task"/>
      <sval type="int" val="-2147483646"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="8"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="2"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="79"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="618"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-536867324"/>
      <sval type="int" val="9"/>
      <sval type="int" val="1048660"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="705"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-536867324"/>
      <sval type="int" val="12"/>
      <sval type="int" val="2152"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="105"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="4"/>
      <sval type="int" val="5000"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="3"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1840"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-536866300"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="105"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="4"/>
      <sval type="int" val="10000"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="3"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="131"/>
      <sval type="int" val="-536865532"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="105"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="4"/>
      <sval type="int" val="10000"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="3"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610606589"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="1072"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-536864764"/>
      <sval type="string" val="!carrier.repair"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="1"/>
      <sval type="int" val="1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="155"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="5"/>
      <sval type="string" val="carrier.rpid"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="102"/>
      <sval type="string" val="!lib.carrier.recallidle"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="105"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="4"/>
      <sval type="int" val="500"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="135"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610605053"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="5"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="8">
      <sval type="int" val="102"/>
      <sval type="string" val="!carrier.repair"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1840"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="84"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1841"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="4"/>
      <sval type="int" val="33"/>
      <sval type="string" val="defender"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610603261"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="111"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="6"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="7"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="96"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="240"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610594301"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="8"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="105"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="4"/>
      <sval type="int" val="2000"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="135"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="525"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="25">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610600957"/>
      <sval type="int" val="7"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
      <sval type="int" val="15"/>
      <sval type="int" val="65556"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="5"/>
      <sval type="int" val="15"/>
      <sval type="int" val="9"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="15"/>
      <sval type="int" val="65556"/>
      <sval type="int" val="15"/>
      <sval type="int" val="9"/>
      <sval type="int" val="7"/>
      <sval type="int" val="65556"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="9"/>
      <sval type="int" val="-3"/>
      <sval type="int" val="9"/>
      <sval type="int" val="65556"/>
      <sval type="int" val="-5"/>
    </sval>
    <sval type="array" size="10">
      <sval type="int" val="102"/>
      <sval type="string" val="!carrier.repair"/>
      <sval type="int" val="-1610600957"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="2"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="3"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-536858108"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="102"/>
      <sval type="string" val="!carrier.replace"/>
      <sval type="int" val="11"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610599928"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="3"/>
    </sval>
    <sval type="array" size="16">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610597885"/>
      <sval type="int" val="4"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="12"/>
      <sval type="int" val="15"/>
      <sval type="int" val="65556"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="5"/>
      <sval type="int" val="15"/>
      <sval type="int" val="9"/>
      <sval type="int" val="4"/>
      <sval type="int" val="65556"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="9"/>
      <sval type="int" val="-3"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610598653"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="9"/>
      <sval type="int" val="18"/>
      <sval type="int" val="0"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="514"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="18"/>
      <sval type="int" val="100003"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="12"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="56"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="102"/>
      <sval type="string" val="!carrier.move.repair"/>
      <sval type="int" val="12"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610597880"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="12"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="3"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-536855036"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="13"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="170"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610596856"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="13"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="3"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-536854012"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="14"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="102"/>
      <sval type="string" val="!carrier.recall"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="14"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="71"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610595069"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="9"/>
      <sval type="int" val="18"/>
      <sval type="int" val="0"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="514"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="18"/>
      <sval type="int" val="100004"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="70"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="102"/>
      <sval type="string" val="!carrier.pickup"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="160"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="78"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1841"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="4"/>
      <sval type="int" val="33"/>
      <sval type="string" val="fighter"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="131"/>
      <sval type="int" val="-1610592765"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="108"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="706"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="7"/>
      <sval type="int" val="-1610592765"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="6"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="7"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="96"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="3"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610591485"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="1072"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1610591741"/>
      <sval type="string" val="!carrier.repair"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
    </sval>
    <sval type="array" size="18">
      <sval type="int" val="1017"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="string" val="!lib.interrupt"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="4"/>
      <sval type="int" val="100"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="155"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="5"/>
      <sval type="string" val="carrier.rpid"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="101"/>
      <sval type="string" val="sub.ClearAttack"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="131"/>
      <sval type="int" val="15"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610588407"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="143"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="16"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="525"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610588669"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="9"/>
      <sval type="int" val="18"/>
      <sval type="int" val="13"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="522"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="17"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="706"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
      <sval type="int" val="-536846841"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="514"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="18"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="86"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="101"/>
      <sval type="string" val="sub.Attack"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="706"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="6"/>
      <sval type="int" val="-1610585341"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="131"/>
      <sval type="int" val="15"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610585335"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="143"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="16"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="525"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="10">
      <sval type="int" val="102"/>
      <sval type="string" val="!lib.carrier.isshipbusy"/>
      <sval type="int" val="-1610585848"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="2"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="99"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="514"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="18"/>
      <sval type="int" val="13"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="6"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="99"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="101"/>
      <sval type="string" val="sub.FindTarget"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="522"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="7"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="101"/>
      <sval type="string" val="sub.CheckThreat"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="736"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="18"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="706"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="18"/>
      <sval type="int" val="-536841465"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="156"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="5"/>
      <sval type="string" val="carrier.threat"/>
      <sval type="int" val="18"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="155"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="5"/>
      <sval type="string" val="carrier.threat"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="706"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="18"/>
      <sval type="int" val="-536836604"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1008"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="6"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1733"/>
      <sval type="int" val="20"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="131"/>
      <sval type="int" val="15"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610578423"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="143"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="16"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="19"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="522"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="17"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610579965"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="18"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="134"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="133"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="706"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
      <sval type="int" val="-1610578683"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="701"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
      <sval type="int" val="21"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610578685"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="21"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="7"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="18"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="134"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="120"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="101"/>
      <sval type="string" val="sub.CheckRepair"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="5"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1836"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="22"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1840"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610572029"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="19"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1654"/>
      <sval type="int" val="23"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="706"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="23"/>
      <sval type="int" val="-1610575869"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1712"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="23"/>
      <sval type="int" val="24"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="145"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="24"/>
      <sval type="int" val="1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="131"/>
      <sval type="int" val="15"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610572023"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="143"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="16"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="19"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="10">
      <sval type="int" val="102"/>
      <sval type="string" val="!lib.carrier.isshipbusy"/>
      <sval type="int" val="-536830460"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="2"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610572285"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="24"/>
      <sval type="int" val="15"/>
      <sval type="int" val="1"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1719"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="-536830460"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1187"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="25"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610572285"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="25"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="13"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="900"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="26"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610572285"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="26"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="22"/>
      <sval type="int" val="15"/>
      <sval type="int" val="5"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="5"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="5"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="159"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="146"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="101"/>
      <sval type="string" val="sub.ResetDone"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="11"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="12"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="13"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="14"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="101"/>
      <sval type="string" val="sub.FindHQ"/>
    </sval>
    <sval type="array" size="18">
      <sval type="int" val="794"/>
      <sval type="int" val="27"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="6"/>
      <sval type="int" val="12"/>
      <sval type="int" val="2046"/>
      <sval type="int" val="10"/>
      <sval type="int" val="10"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="106"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="101"/>
      <sval type="string" val="sub.DoLoadouts"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="167"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="128"/>
      <sval type="int" val="28"/>
      <sval type="int" val="4"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1840"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="131"/>
      <sval type="int" val="15"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610561015"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="143"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="16"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="19"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="10">
      <sval type="int" val="102"/>
      <sval type="string" val="!lib.carrier.isshipbusy"/>
      <sval type="int" val="-1610566648"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="2"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="175"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="156"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="5"/>
      <sval type="string" val="carrier.manage.needloadout"/>
      <sval type="int" val="-1610565885"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="135"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="28"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="201"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1847"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="29"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610561277"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="29"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="707"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="30"/>
    </sval>
    <sval type="array" size="8">
      <sval type="int" val="1866"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="31"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="29"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="30"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610561277"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="31"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="25">
      <sval type="int" val="104"/>
      <sval type="int" val="32"/>
      <sval type="int" val="7"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="654"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="651"/>
      <sval type="int" val="15"/>
      <sval type="int" val="7"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="650"/>
      <sval type="int" val="15"/>
      <sval type="int" val="7"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="655"/>
      <sval type="int" val="15"/>
      <sval type="int" val="7"/>
      <sval type="int" val="7"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="7"/>
      <sval type="int" val="-2"/>
      <sval type="int" val="7"/>
      <sval type="int" val="-4"/>
      <sval type="int" val="7"/>
      <sval type="int" val="-6"/>
    </sval>
    <sval type="array" size="8">
      <sval type="int" val="1748"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="33"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="31"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="32"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610561277"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="33"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1739"/>
      <sval type="int" val="34"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="33"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610561271"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="34"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="35"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="33"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="34"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="618"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="36"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="34"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610561789"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="36"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="35"/>
      <sval type="int" val="15"/>
      <sval type="int" val="3"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="135"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="28"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="155"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="5"/>
      <sval type="string" val="carrier.manage.needloadout"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="201"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1739"/>
      <sval type="int" val="34"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="33"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="34"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="192"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="175"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="131"/>
      <sval type="int" val="-1610551549"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="28"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="706"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="27"/>
      <sval type="int" val="-1610551549"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="703"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="27"/>
      <sval type="int" val="37"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1864"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="38"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="711"/>
      <sval type="int" val="39"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="6"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="37"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610557687"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="39"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="38"/>
      <sval type="int" val="15"/>
      <sval type="int" val="2"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="2"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="105"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="4"/>
      <sval type="int" val="5000"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="40"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="37"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="249"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="240"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-536816121"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="8"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="207"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="13"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="131"/>
      <sval type="int" val="15"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="28"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610554359"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="143"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="16"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="28"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1847"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="29"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610554621"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="29"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="707"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="30"/>
    </sval>
    <sval type="array" size="8">
      <sval type="int" val="1866"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="27"/>
      <sval type="int" val="31"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="29"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="30"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610554621"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="31"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="514"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="18"/>
      <sval type="int" val="100000"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="27"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="31"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="105"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="4"/>
      <sval type="int" val="1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="217"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="131"/>
      <sval type="int" val="-1610551543"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="28"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="105"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="4"/>
      <sval type="int" val="1000"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="131"/>
      <sval type="int" val="15"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="28"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610551799"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="143"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="16"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="28"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="525"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-536810233"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="9"/>
      <sval type="int" val="18"/>
      <sval type="int" val="100000"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="136"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="28"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="231"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="228"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="101"/>
      <sval type="string" val="sub.CheckIdle"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="525"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="41"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="8"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1871"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1610549757"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="8"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="248"/>
    </sval>
    <sval type="array" size="25">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610549243"/>
      <sval type="int" val="7"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="41"/>
      <sval type="int" val="18"/>
      <sval type="int" val="17"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="41"/>
      <sval type="int" val="18"/>
      <sval type="int" val="0"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="15"/>
      <sval type="int" val="10"/>
      <sval type="int" val="7"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
      <sval type="int" val="10"/>
      <sval type="int" val="-4"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-5"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="8"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="101"/>
      <sval type="string" val="sub.MoveSector"/>
    </sval>
    <sval type="array" size="8">
      <sval type="int" val="102"/>
      <sval type="string" val="!carrier.recall"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="524"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="18"/>
      <sval type="int" val="12"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="519"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="40"/>
    </sval>
    <sval type="array" size="8">
      <sval type="int" val="102"/>
      <sval type="string" val="!move.movetosector"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="40"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="101"/>
      <sval type="string" val="sub.MoveInRange"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="524"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="18"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="519"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="40"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="740"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="40"/>
      <sval type="int" val="42"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="741"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="40"/>
      <sval type="int" val="43"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="742"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="40"/>
      <sval type="int" val="44"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="703"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="40"/>
      <sval type="int" val="45"/>
    </sval>
    <sval type="array" size="16">
      <sval type="int" val="102"/>
      <sval type="string" val="!move.movetoposition"/>
      <sval type="int" val="-2147483647"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="5"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="45"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="42"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="43"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="44"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="46"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
  </sval>
  <sval type="int" val="0"/>
  <sval type="array" size="125">
    <sval type="array" size="2">
      <sval type="int" val="1"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="3"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="5"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="5"/>
      <sval type="int" val="1"/>
      <sval type="string" val="check if theres a new script version, and restart it"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="10"/>
      <sval type="int" val="7"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="10"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="10"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="string" val="must have carrir command software installed"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="14"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="14"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="14"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="14"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="18"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="18"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="21"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="21"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="21"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="24"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="24"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="25"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="26"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="27"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="27"/>
      <sval type="int" val="1"/>
      <sval type="string" val="check if any ships need to repair"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="30"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="30"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="30"/>
      <sval type="int" val="1"/>
      <sval type="string" val="clear attack command if the target is destroyed"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="32"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="32"/>
      <sval type="int" val="1"/>
      <sval type="string" val="check for any threats and launch the defence force"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="37"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="37"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="37"/>
      <sval type="int" val="1"/>
      <sval type="string" val="if the carrier is idle, we can do another task"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="41"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="42"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="8">
      <sval type="int" val="43"/>
      <sval type="int" val="3"/>
      <sval type="int" val="1462"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="string" val="repair.pid"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="443"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="46"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="46"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="46"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="46"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="46"/>
      <sval type="int" val="1"/>
      <sval type="string" val="first check if we need to buy any new ships and jump to the shipyard"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="50"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="50"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="50"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="50"/>
      <sval type="int" val="1"/>
      <sval type="string" val="Now lets repair any ships that need it"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="55"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="56"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="58"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="58"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="58"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="62"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="62"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="62"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="62"/>
      <sval type="int" val="1"/>
      <sval type="string" val="Finally, lets pick up any ships"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="66"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="69"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="70"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="71"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="71"/>
      <sval type="int" val="1"/>
      <sval type="string" val="Not idle, lets see if we need to attack anything"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="72"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="78"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="78"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="78"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="78"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="79"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="79"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="82"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="83"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="84"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="94"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="95"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="96"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="105"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="107"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="107"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="108"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="111"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="115"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="116"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="127"/>
      <sval type="int" val="7"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="133"/>
      <sval type="int" val="7"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="133"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="133"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="134"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="134"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="135"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="144"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="145"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="158"/>
      <sval type="int" val="7"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="158"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="158"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="158"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="158"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="158"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="159"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="159"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="160"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="167"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="170"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="180"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="182"/>
      <sval type="int" val="1"/>
      <sval type="string" val="check if the ship is missing its loadout"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="183"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="199"/>
      <sval type="int" val="7"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="199"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="201"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="201"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="201"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="201"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="201"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="202"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="202"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="215"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="215"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="216"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="227"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="227"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="228"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="228"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="238"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="239"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="239"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="239"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="239"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="240"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="248"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="249"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="255"/>
      <sval type="int" val="2"/>
    </sval>
  </sval>
  <sval type="int" val="0"/>
</sval>

</codearray>
<nosignature>9343</nosignature>
</script>
